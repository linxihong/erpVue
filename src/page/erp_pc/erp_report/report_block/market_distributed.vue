<template>
    <div class="percent-div" ref="wrapDiv">
        <svg :width="wrapWidth" :height="wrapHeight" viewBox="500 420 900 850">
            <defs>
                <filter id="f1" x="0" y="0" width="200%" height="200%">
                    <feOffset result="offOut" in="SourceAlpha" dx="20" dy="20" />
                    <feGaussianBlur result="blurOut" in="offOut" stdDeviation="10" />
                    <feBlend in="SourceGraphic" in2="blurOut" mode="normal" />
                </filter>
            </defs>
            <g @click="changeColor('狮山镇',0)">
                <path id="shiShan" :fill="activeIndex===0?'yellow':'#dfecb7'" :filter="activeIndex===0?'url(#f1)':''" stroke="#ffffff" d="M972.293,530.432c0,0-7.793-19.894,38.207-8.894s11.79,3.33,11.79,3.33
		s33.683,14.271,37.183,22.771s0.287,6.143-0.713,9.143s-3.76,2.256-0.26,7.256s4.663,8.086,2.859,10.586
		s-13.888,3.186-17.359,3.414c-2.687,0.177-2.5,13-1,15.5s3.826,4.844,8.326,8.344s15.041,8.961,20.541,9.961
		s9.244,0.63,12.744,1.63s6.389,14.741,7.389,21.403s3.5,10.413,1.5,22.413s-6,19.249-6,23.249s-3.5,11.5-6.5,15s-16.5,17.5-21.5,21
		s-11.5,8-17,18s-5.5,10-5.5,10s-13.5-1-15.5,0s-2,18-0.5,23.5s16,4.5,16,4.5s2-4.5,3,10.5s1.5,22,1.5,22s8.5-2,11.5,0
		s11,5.5,14.5,9.5s0,3-3,4.5s-13.5,8.5-13.5,8.5h-15l-12.5,4.5l-39.5,2.5l-12.206,27.5l-3.294,8l-16,10l-13.5-14l-11.5,0.5l-25-8
		l-8.5,17l-12,1.5l-23.5-86l-43.237-66.5c0,0-37.263-15.5-42.263-18s-17-17-17-17s39.177-13.021,39.677-25.521
		s-3.128-28.49,7.848-45.484s18.945-17.679,18.771-22.25s2.205,0.756,0.205-11.744s-4.467-8.15,0.517-15.825
		s10.011-6.12,13.983-9.675s1.5-8.5,10.5-5c1.156,0.45,2.143-0.064,3.319,0.214c1.912,0.453,3.909,1.441,4.848,0.453
		c1.525-1.606,0.946-5.898,1.784-7.26c0.797-1.294,2.549,0.093,2.549,0.093l7,21.5l58,2.5l19.5,18.5v-33l35.524,2v-20
		L972.293,530.432z"></path>
                <text class="svg_text" transform="matrix(1 0 0 1 894.249 707.9883)">狮 山</text>
            </g>
            <g @click="changeColor('里水镇',1)">
                <path id="liShui" :fill="activeIndex===1?'yellow':'#dfecb7'" :filter="activeIndex===1?'url(#f1)':''" stroke="#ffffff" d="M1122,443.056c-1,1.5,0.5,22.5,0,24.5s28,5.5,28,5.5s18.5,20.5,19,29s-9,24.5-10.5,43.5
		s-3,20,2,24s19,4.5,23.5,6s19,28,21,32s4,15,3,22s-5.5,9-17.5,15.5c-8.67,4.696-13.165,4.172-15.934,4.84
		c-1.063,0.257-1.873,0.689-2.566,1.66c-2.5,3.5-4.5,26-4.5,32s-1,11.5-6.5,19s-16.5,13-24.5,10s-18-15-28.5-24s-20.5-8-20.5-8
		s10.309-30,5.654-39s-2.654-29-10.654-28.5s-14.809-2.146-23.404-6.573s-19.143-11.419-17.119-19.923s-2.477-8.004,2.023-8.504
		s16.5,0,18-4.5s-4.141-10.373-5.57-12.437s12.771-9.567-4.937-21.379s-34.5-16.653-34.5-16.653l7.507-31.531l-16.5-4v-23.5
		c0,0,17.5-0.5,23-1s5.5-6,5.5-9s21,1,26.5,3.5s1-17,3-20s19-10,33.5-3s13.5,4.5,14.5,7S1122,443.056,1122,443.056z"></path>
                <text transform="matrix(1 0 0 1 1094.2529 555.333)"><tspan x="0" y="0" class="svg_text">里</tspan><tspan x="0" y="72" class="svg_text">  水</tspan></text>
            </g>
            <g @click="changeColor('大沥镇',2)">
                <path id="daLi" :fill="activeIndex===2?'yellow':'#dfecb7'" :filter="activeIndex===2?'url(#f1)':''" stroke="#ffffff" d="M1174.5,681.539c0,10,0,6,0,6s25.5-3.5,30,5s4.031,9,3.766,15s-5.766,6-7.766,18.5
		s-5.5,17.5-2,22.5s10,5,14,10.5s3.5,9.5,0,14.5s2,4-9.5,5.5s-25,3.5-34,12c-1.52,1.436-2.782,2.628-3.832,3.619
		c-5.168,4.881-5.168,4.881-5.168,4.881h-74.5l-11.5,2.5v17.5c0,0-18.391-15.273-23.234-15.251s-9.006,4.546-9.398-1.135
		s-1.144-28.728-3.117-30.614c-1.155-1.104-9.082,0.393-13.277-1.156c-2.971-1.097-3.756-4.791-4.633-7.27
		c-2.116-5.979,1.16-19.574,1.16-19.574s13.5,0.5,15.5,0s8.232-15.557,12.115-19.316s19.771-16.701,25.828-23.192
		s10.229-10.905,11.393-16.198s-1.224-5.317,1.164-5.293s5-1,11,3c1.287,0.858,3.752,0.885,5.205,1.821
		c5.319,3.428,10.423,8.345,15.646,13.771c6.649,6.908,16.721,16.063,25.221,13.063s14.929-2.654,21.429-19.154
		c2.143-5.438,1.249-8.903,1.57-12.008c0.653-6.313,0.598-9.56,1.175-13.848c0.606-4.507,1.747-12.052,3.255-15.645
		c0.632-1.506,2.566-1.66,2.566-1.66l-0.066,29.16"></path>
                <text class="svg_text" transform="matrix(1 0 0 1 1078.8193 758.6914)">大 沥</text>
            </g>
            <g @click="changeColor('桂城街道',3)">
                <path id="guiCheng" :fill="activeIndex===3?'yellow':'#dfecb7'" :filter="activeIndex===3?'url(#f1)':''" stroke="#ffffff" d="M1163,819.539c0,0,14,1.5,21.5,5.5s24.631,22,30.815,25.5s25.185,1,32.185,0s31-1,31-1s-0.5,15,0,18.5
		s2.5,9.5,0,16s-4,9.5-5.5,19.5s-0.5,11.5-0.5,13s9.5,5,9.5,5s0.5,11.5-2.5,22s-3,10.5-3,10.5s11,2.5-3,0s-23-4.5-25.5-6.5
		s-25.484-40-25.484-40s-19.016,0-22.516,0.5s-14.5-2-14.5-2l-12.5,10l-22,18.5c0,0,5.5-11-3-15.5s-18.5-7-18.5-7s9-23,4.5-28.5
		s-23.5-3.5-23.5-3.5s0.766,12-2.367-4s-3.633-19-3.633-19l-11.346-11.5l-19.154-26v-17.5l14-2.5h70l9.209-6.809L1163,819.539z"></path>
                <text transform="matrix(1 0 0 1 1133.751 856.7891)"><tspan x="0" y="0" class="svg_text">桂  </tspan><tspan x="20" y="36" class="svg_text">     城</tspan></text>
            </g>
            <g @click="changeColor('丹灶镇',4)">
                <path id="danZhao" :fill="activeIndex===4?'yellow':'#dfecb7'" :filter="activeIndex===4?'url(#f1)':''" stroke="#ffffff" d="M747,683.988c0,0,2.769,20.175,4.5,23.567s12.5,24.5,12.5,24.5l-43.448,0.5v25
		c0,0-16.833-0.729-18.942,1.136s7.068,12.024,9.979,17.944s4.911,81.92,4.911,81.92l5.774,12.25l1.226,27.75
		c0,0,17.461,16.063,28.48,17.531s9.52,4.469,9.52,4.469s6.5-3.389,17.5,4.056c11,7.444,17,12.444,17,12.444l13-5.5
		c0,0-12-29-10-32.5s7.5-3.5,10-8.5s5-14.5,5-14.5l15,9l2.5,27.275l34.5,31.224l4.5,2.5c0,0,16.76-23.417,14.63-31.708
		s-3.886-34.865-4.508-36.828s-11.698-58.08-21.66-84.771c-3.531-9.46-11.686-19.351-18.629-30.024
		c-12.647-19.441-25.07-38.167-25.07-38.167s-10.384-4.352-21.955-9.201c-8.28-3.47-17.805-7.183-21.641-9.798
		c-1.833-1.249-3.518-2.796-5-4.167C760.79,695.951,756,691.552,756,689.556C756,687.056,747,683.988,747,683.988z"></path>
                <text class="svg_text" transform="matrix(1 0 0 1 750.0088 826.5557)">丹 灶</text>
            </g>

            <g @click="changeColor('西樵镇',5)">
                <path id="xiQiao" :fill="activeIndex===5?'yellow':'#dfecb7'" :filter="activeIndex===5?'url(#f1)':''" stroke="#ffffff" d="M905.5,1057.555c0.5,1.5,16,0,16,0l1-18.5l-15.782-32.105L881.5,955.167l-14.184-10.879
		L831.5,912.331l-2.5-27.275l-15-9l-5,14.5c0,0-10.024,5.004-10,8.5c0.011,1.457,1.035,7.702,2.855,13.547
		c2.547,8.176,6.184,16.464,6.673,17.669c0.84,2.064-12.528,6.783-12.528,6.783s-6.965-6.045-15.188-11.209
		c-6.002-3.77-9.923-5.826-13.645-6.123c-1.844-0.147-5.656-0.808-5.667,0.833c-0.065,9.492-2.894,25.5-2.894,25.5l-8.052,18.533
		l-9.425,12.963l-34.998,1.117l-4.353-1.113l3.721,53.635l67,60.365c0,0,7.664,17.021,7,22s29.279-1.5,32.64,0s17.36-20,17.36-20
		s12-2.5,16.5,2s4,8,4,14s11,16,20.5,17.5s10.635,0.5,14.817-2.5s9.683-12,13.183-15s16.5-10,16.5-10l-9-8L905.5,1057.555z"></path>
                <text class="svg_text" transform="matrix(1 0 0 1 775.5498 1027.9204)">西  樵</text>
            </g>
            <g @click="changeColor('九江镇',6)">
                <path id="jiuJiang" :fill="activeIndex===6?'yellow':'#dfecb7'" :filter="activeIndex===6?'url(#f1)':''" stroke="#ffffff" d="M980.107,1066.091l-3.607-27.053h-54l-1,18.5h-16l0.5,34l9,8l-16.5,10
		c-3.121,3.401-5.541,7.061-8.25,9.914c-2.8,2.948-3.799,5.883-8.125,7.286c-16,5.189-31.125-14.7-31.125-14.7s-0.5-10-5-16.5
		s-16.5-2-16.5-2l-9.25,13l-8.11,7l-26.14,1.5l-6.5-1.5l-3,22.5l3,9l22,2.5l36,32.5l47.817,53l80.683-5l11-8l17,16.5l10-19.5
		l-9.5-19.5l-52-20l-7-23c0,0-22-1.5-19.5-17.5s12-30,12-30l35.5-5c0,0,3.5,2,3.5-14.5s11-19.5,11-19.5"></path>
                <text class="svg_text" transform="matrix(1 0 0 1 845.3037 1170.2036)">九 江</text>
            </g>
        </svg>
    </div>
</template>
<script>
    export default {
        data() {
            return {
                activeIndex: 0,
                activeName: '狮山',
                wrapWidth: 488,
                wrapHeight: 369,
            }
        },
        mounted() {
            this.getDivHeight();
        },
        methods: {
            getDivHeight(){
                this.wrapHeight = this.$refs.wrapDiv.offsetHeight;
                this.wrapWidth = this.$refs.wrapDiv.offsetWidth;
            },
            changeColor(name,index) {
                this.$store.state.regionName = name
                this.activeName = name;
                this.activeIndex = index;
            }
        }
    }
</script>
<style>
    g {
        cursor: pointer;
    }
    .svg_text {
        fill : black;
        font-size: 30px!important;
    }
    .percent-div {
        width: 100%;
        height: 100%;
    }
</style>
