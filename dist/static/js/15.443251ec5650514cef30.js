webpackJsonp([15],{1246:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var i=a(18),o=a.n(i),s=a(850),l=a.n(s),n=a(801),r=a.n(n),c=a(802),d=a.n(c),h=a(806),u=a.n(h),m=a(834),p=a.n(m),f=a(817),g=a.n(f),v=a(870),b=a.n(v),C=a(865),w=a.n(C);t.default={mixins:[l.a],components:{CommonSearch:r.a,CommonTable:d.a,CommonPagination:u.a,CommonDetailX:p.a,CommonAdd:g.a,CommonData:b.a,SelectEnter:w.a},data:function(){return{formHeight:526,tableHeight:.65*this.$store.state.screenHei,mainHeight:716,isResize:!0,operateType:"add",isNewEdit:!1,isShowStatus:{isMore:!1,isRead:!0,isPopUp:!1},currentIndex:0,enterTimes:1,isBanNextFocus:!1,otherVariable:{isSpread:!1,contentWidth:70,detailTitle:"编辑订单",addTitle:"新建订单",popupTitle:"",isInlineForm:!0,isEdit:!1,isChildEdit:!1,isHeadComplex:!0,isFormComplex:!0,loading:!1,$isCustom:!0,isNotValidate:!0,isReadTable:!0},tempWidth:null,tableData:[],searchProp:[{name:"订单号",prop:"orderDocCode",type:"normal",isMainSearch:!0,isMain:!1,placeholder:"请输入订单单号"},{name:"变更单号",prop:"orderChangeCode",type:"normal",isMainSearch:!1,isMain:!1,placeholder:"请输入变更单号"},{name:"客户代码",prop:"clientCode",type:"normal",isMainSearch:!1,isMain:!1},{name:"客户名称",prop:"clientName",type:"normal",isMainSearch:!1,isMain:!1},{name:"变更状态",prop:"docStatus",type:"select",selectList:[{value:null,label:"全部"},{value:0,label:"未提交"},{value:50,label:"已提交"}],isMainSearch:!1,isMain:!1},{name:"变更日期",prop:"orderDocDateStart",type:"date",isMainSearch:!1,isMain:!1},{name:"至",prop:"orderDocDateEnd",type:"date",isMainSearch:!1,isMain:!1},{name:"销售公司",prop:"companyName",type:"normal",isMainSearch:!1,isMain:!1},{name:"供货公司",prop:"supplyCompanyName",type:"normal",isMainSearch:!1,isMain:!1}],formProp:[{name:"变更单号",prop:"orderChangeCode",type:"outter"},{name:"变更日期",prop:"docDate",type:"outter"},{name:"单据状态",prop:"docStatusName",type:"outter"},{name:"客户",prop:"clientCode",type:"inner"},{name:"经销商",prop:"clientCode2",type:"inner"},{name:"订单号",prop:"orderDocCode",type:"inner"},{name:"备注",prop:"remark",type:"inner",isLong:!0}],tableProp:[{name:"fid",prop:"fid",type:"normal",isMain:!0},{name1:"变更单号/",prop1:"orderChangeCode",name2:"状态",prop2:"docStatusName",status:"docStatus",type:"mixinStatus",width:"115"},{name1:"订单号/",prop1:"orderDocCode",name2:"变更日期",prop2:"docDate",type:"mixin",width:"120"},{name1:"客户/",prop1:"clientCode",name2:"经销商",prop2:"clientCode2",type:"mixin",width:"130"},{name1:"流程单号/",prop1:"docCode",name2:"工程名称",prop2:"projectName",type:"mixin",width:"148"}],searchForm:{docStatus:0},addOrEditForm:{},detailForm:{},left_detailForm:{},copyForm:{},tempForm:{},submitRow:{},detailId:null,orderDocStatus:null,orderChangeDocStatus:null,docCode:null,docStatus:null,pageObj:{commonPage:1,commonSize:10,commonSizes:[10,20,30,40,50,100],commonTotal:0},pageDialog:{commonPage:1,commonSize:10,commonSizes:[10,20,30,40,50,100],commonTotal:0},searchChooseForm:{minStatus:100,minStatusOperator:">="},chooseTableData:[],tabLeft:"300px",activeName:"first",childDetailRow:{},editIndex:0,tabDataI:[],loadingI:!1,isShowNotAllowed:!1,changeVisible:!1,changeType:"",changeForm:{},changeTitle:"",changeColorName:"",changeCx2Code:"",changeMatCode:"",tempSelect:!1,isShowNew:!0,multiChangeVisible:!1,multiChangeForm:{},multiTempSelect:!1,matCode:"",matCodeList:[],matCodeTHs:[{label:"代码",prop:"fcode"},{label:"名称",prop:"fname"}],colorName:"",colorCodeList:[],colorCodeTHs:[{label:"名称",prop:"fname"}],matAlloy:"",matAlloyList:[],matAlloyTHs:[{label:"代码",prop:"fcode"},{label:"名称",prop:"fname"}],matThick:"",matThickList:[],matThickTHs:[{label:"代码",prop:"fcode"},{label:"名称",prop:"fname"}],sellTypeList:[],orderTypeList:[],deliveryLevelList:[],packMethodList:[],deliveryMethodList:[],usrTxt2Name:"",multiUsrTxt2Name:"",usrTxt2List:[],valueObj:{projectName:null,projectList:[],projectTHs:[{label:"代码",prop:"projectCode"},{label:"名称",prop:"projectName"}],packMethodName:null,mdmPackList:[],packMethodTHs:[{label:"代码",prop:"fcode"},{label:"名称",prop:"fname"}],markMethod:null,markMethodList:[],markMethodTHs:[{label:"代码",prop:"fcode"},{label:"名称",prop:"fname"}],contractCode:null,contractList:[],contractTHs:[{label:"代码",prop:"fcode"},{label:"名称",prop:"fname"}],clientCode:null,clientList:[],clientTHs:[{label:"代码",prop:"fcode"}]}}},watch:{"isShowStatus.isPopUp":{handler:function(e){this.isShowNotAllowed=e}},"otherVariable.isChildEdit":{handler:function(e){this.isShowNotAllowed=e}},isNewEdit:{handler:function(e){this.isShowNotAllowed=e}}},mounted:function(){this.getData(),this.getOrderType(),this.getDeliveryLevel(),this.getUsrTxt2List(),this.listenResizeII(),this.changeSizeII(),this.tempWidth=this.otherVariable.contentWidth},methods:{getData:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.searchForm.orderDocCode?this.searchForm={orderDocCode:this.searchForm.orderDocCode}:this.searchForm.orderChangeCode?this.searchForm={orderChangeCode:this.searchForm.orderChangeCode}:(this.searchForm.orderDocCode=null,this.searchForm.orderChangeCode=null),this.tableData=[],this.fetch("/oms/sls/SalesOrderChange/getChangeMasterFlow?pageNo="+this.pageObj.commonPage+"&pageSize="+this.pageObj.commonSize,this.searchForm).then(function(a){a.data&&a.data.list.length?(e.tableData=a.data.list,e.pageObj.commonTotal=a.data.total,t?e.$nextTick(function(){e.$refs.commontable.renderRow(e.tableData[0].fid)}):e.$nextTick(function(){e.$refs.commontable.renderRow(e.detailId)})):(e.pageObj.commonTotal=0,e.tabDataI=[],e.detailForm={},e.left_detailForm={},e.addOrEditForm={},e.detailId=null,e.orderDocStatus=null,e.orderChangeDocStatus=null)})},handleRefresh:function(){this.detailForm={},this.left_detailForm={},this.addOrEditForm={},this.getData(),this.otherVariable.isChildEdit=!1,this.tabDataI=[],this.clearSelect()},handleReset:function(){this.searchForm={docStatus:0},this.handleRefresh()},getInitPage:function(){this.pageObj.commonPage=1,this.pageObj.commonSize=10,this.getData()},changeRefresh:function(){this.getData(!1),this.otherVariable.isChildEdit=!1},handleDetail:function(e){var t=this;this.handleCancelNew(),this.otherVariable.isChildEdit=!1,this.tabDataI=[],this.isShowStatus.isRead=!0,this.detailForm={},this.left_detailForm=e,this.addOrEditForm={},this.copyForm={},this.handleCancel(this.operateType),this.fetch("/oms/sls/SalesOrderChange/getChangeMaster",{fid:e.fid}).then(function(e){200===e.status&&e.data&&e.data.list.length?(t.detailForm=e.data.list[0],t.addOrEditForm=e.data.list[0],t.copyForm=t.$lodash.cloneDeep(e.data.list[0]),t.$nextTick(function(){t.$refs.packMethodSelect.inputValueData=t.addOrEditForm.orderNewPackMethodName,t.$refs.usr1Select.inputValueData=t.addOrEditForm.orderNewUsrTxt1Name,t.$set(t.valueObj,"projectName",t.addOrEditForm.orderNewProjectName),t.$set(t.valueObj,"packMethodName",t.addOrEditForm.orderNewPackMethodName),t.$set(t.valueObj,"markMethod",t.addOrEditForm.orderNewUsrTxt1Name)})):(t.detailForm={},t.copyForm={})}),this.getChildTable(e.fid),this.detailId=e.fid,this.orderDocStatus=e.orderDocStatus,this.orderChangeDocStatus=e.orderChangeDocStatus,this.docCode=e.docCode,this.docStatus=e.docStatus},handleAdd:function(){this.operateType="add",this.addOrEditForm={},this.isShowStatus.isPopUp=!0,this.otherVariable.popupTitle="选择订单",this.otherVariable.isEdit=!1,this.getChooseTableData()},clearSelect:function(){this.$refs.packMethodSelect.inputValueData="",this.$refs.usr1Select.inputValueData=""},handleNotAllowed:function(){var e=this;this.isShowStatus.isPopUp&&this.$confirm("此操作将清空已填写的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.handleCancel(e.operateType)}).catch(function(){console.log("cnacel")}),this.otherVariable.isChildEdit&&this.$confirm("此操作将清空已填写的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.handleCancelChild()}).catch(function(){console.log("cnacel")}),this.isNewEdit&&this.$confirm("此操作将清空已填写的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.handleCancelNew()}).catch(function(){console.log("cnacel")})},getChooseTableData:function(){var e=this;this.chooseTableData=[],this.fetch("/oms/sls/SalesOrderMaster/getOrderMaster?pageNo="+this.pageDialog.commonPage+"&pageSize="+this.pageDialog.commonSize,this.searchChooseForm).then(function(t){200===t.status&&t.data?(e.chooseTableData=t.data.list,e.pageDialog.commonTotal=t.data.total):e.pageDialog.commonTotal=0})},resetChooseTable:function(){this.searchChooseForm={minStatus:100,minStatusOperator:">="},this.getChooseTableData()},chooseRow:function(e){this.addOrEditForm=e},handleEdit:function(){this.operateType="edit",this.otherVariable.popupTitle=this.otherVariable.detailTitle,this.otherVariable.isEdit=!0,this.addOrEditForm=this.detailForm,this.detailId?(this.isShowStatus.isPopUp=!0,this.$set(this.addOrEditForm,"orderNewProjectName",this.detailForm.orderNewProjectName),this.valueObj.projectName=this.detailForm.orderNewProjectName):this.$message({message:"请选择订单",type:"warning"})},handleSave:function(){var e=this;this.addOrEditForm.fid?this.fetch("/oms/sls/SalesOrderChange/addChangeMaster?orderMasterId="+this.addOrEditForm.fid).then(function(t){200===t.status?(e.$message({message:"保存成功",type:"success"}),e.isShowStatus.isPopUp=!1,e.handleRefresh()):e.$message({message:e.returnErrorMsg(t.error),type:"error"})}):this.$message({message:"请选择订单",type:"warning"})},handleEditSave:function(){var e=this;this.addOrEditForm.fid=this.detailId,this.addOrEditForm.docCode=this.docCode,this.addOrEditForm.orderNewSellType=1,this.addOrEditForm.orderNewProjectCode=this.detailForm.orderOldProjectCode;var t=void 0;this.fetch("/oms/sls/SalesOrderChange/updateMaster",this.addOrEditForm).then(function(a){t=a.status,200===a.status?(e.$message({message:"保存成功",type:"success"}),e.getData(!1),e.isNewEdit=!1):e.$message({message:e.returnErrorMsg(a.error),type:"error"})})},handleEditNew:function(){this.isNewEdit=!0},handleCancelNew:function(){this.isNewEdit=!1,this.handleCancel()},handleCancel:function(e){this.isShowStatus.isPopUp=!1,"add"===e?this.addOrEditForm={}:(this.detailForm=this.$lodash.cloneDeep(this.copyForm),this.addOrEditForm=this.$lodash.cloneDeep(this.copyForm))},handleConfirm:function(){var e=this,t="是否提交？";this.orderChangeDocStatus<80&&(t="是否提交<strong>并执行审核</strong>？"),this.detailId?this.$confirm(""+t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0}).then(function(){var t=void 0;e.getAjax("/oms/sls/SalesOrderChange/confirmChangeOrder?orderChangeMasterId="+e.detailId).then(function(a){t=a.status,200===a.status?(e.$message({message:a.message,type:"success"}),e.getInitPage()):e.$message({message:e.returnErrorMsg(a.error),type:"error"})})}).catch(function(){console.log("cnacel")}):this.$message({message:"请选择订单",type:"warning"})},handleUnConfirm:function(){var e=this;this.detailId?this.$confirm("是否撤销?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=void 0;e.getAjax("/oms/sls/SalesOrderChange/unConfirmChangeOrder?orderChangeMasterId="+e.detailForm.fid).then(function(a){t=a.status,200===a.status?(e.$message({message:a.message,type:"success"}),e.getInitPage()):e.$message({message:e.returnErrorMsg(a.error),type:"error"})})}).catch(function(){console.log("cnacel")}):this.$message({message:"请选择订单",type:"warning"})},handleDelete:function(){var e=this;this.detailId?this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.getAjax("/oms/sls/SalesOrderChange/deleteOrderChangeMaster?orderChangeMasterId="+e.detailId).then(function(t){200===t.status?(e.$message({message:"删除成功",type:"success"}),e.detailForm={},e.tabDataI=[],e.getInitPage()):e.$message({message:e.returnErrorMsg(t.error),type:"error"})})}).catch(function(){console.log("cnacel")}):this.$message({message:"请选择订单",type:"warning"})},cancelOrder:function(){var e=this;this.detailId?this.$confirm("是否作废?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.getAjax("/oms/sls/SalesOrderChange/cancelOrderChangeMasterById?orderChangeMasterId="+e.detailForm.fid).then(function(t){200===t.status?(e.$message({message:"作废成功",type:"success"}),e.detailForm={},e.tabDataI=[],e.getInitPage()):e.$message({message:e.returnErrorMsg(t.error),type:"error"})})}).catch(function(){console.log("cnacel")}):this.$message({message:"请选择订单",type:"warning"})},getChildTable:function(e){var t=this;this.childDetailRow.fid=null,this.loadingI=!0,this.isShowNotAllowed=!0,this.getAjax("/oms/sls/SalesOrderChange/getOrderChangeDetail?pageSize=1000&orderChangeMasterId="+e).then(function(e){t.loadingI=!1,t.isShowNotAllowed=!1,e.data&&e.data.list&&(e.data.list.forEach(function(e){e.usrTxt3Name&&(e.usrTxt3Name=e.usrTxt3Name.toLowerCase())}),t.tabDataI=e.data.list)})},handleAddChild:function(){var t=this;this.editIndex=0,this.detailId?(this.matCode="",this.colorName="",this.matAlloy="",this.matThick="",this.markMethod="",this.otherVariable.isChildEdit=!0,this.$nextTick(function(){t.tempForm={matCode:"",matName:"",cx1:"",cx1Name:"",cx2:"",cx2Name:"",cx3:"",cx3Name:"",isEditState:!0},t.tabDataI.unshift(t.$lodash.cloneDeep(t.tempForm))}),setTimeout(function(){e(".el-table__body-wrapper .el-input__inner")[0].focus()},200)):this.$message({message:"请选择订单",type:"warning"})},handleSaveChild:function(){var e=this,t=void 0,a=void 0,i=!0,o="edit";this.childDetailRow.fid?(o="edit",t="/oms/sls/SalesOrderChange/updateDetailItem",a=this.childDetailRow,a.orderNewUsrTxt1=this.childDetailRow.usrTxt1,a.orderNewUsrTxt1Name=this.childDetailRow.usrTxt1Name,a.orderNewUsrTxt2=this.childDetailRow.usrTxt2,a.orderNewUsrTxt2Name=this.childDetailRow.usrTxt2Name,a.orderNewUsrTxt3=this.childDetailRow.usrTxt3,a.orderNewUsrTxt3Name=this.childDetailRow.usrTxt3Name,a.orderNewUsrTxt6=this.childDetailRow.usrTxt6,a.orderNewUsrTxt6Name=this.childDetailRow.usrTxt6Name,a.orderNewDigit=this.childDetailRow.digit,a.orderNewRemark=this.childDetailRow.remark,a.orderNewMatCode=this.childDetailRow.matCode,a.orderNewMatName=this.childDetailRow.matName,a.orderNewCx1=this.childDetailRow.cx1,a.orderNewCx1Name=this.childDetailRow.cx1Name,a.orderNewCx2=this.childDetailRow.cx2,a.orderNewCx2Name=this.childDetailRow.cx2Name,a.orderNewCx3=this.childDetailRow.cx3,a.orderNewCx3Name=this.childDetailRow.cx3Name,a.orderNewCx4=this.childDetailRow.cx4,a.orderNewCx4Name=this.childDetailRow.cx4Name,a.detailId=this.childDetailRow.fid):(o="add",t="/oms/sls/SalesOrderChange/insertDetail",a=this.tabDataI[0],a.masterId=this.detailId,a.docCode=this.docCode,a.matCode||a.cx1||a.cx2||a.cx3||a.usrTxt1Name||(this.handleCancelChild(),i=!1)),i&&this.fetch(t,a).then(function(t){200===t.status?(e.$message({message:"保存成功",type:"success"}),e.childDetailRow.fid=null,"edit"===o?e.handleCancelChild():(e.getChildTable(e.detailId),e.otherVariable.isChildEdit=!1)):(e.tabDataI[e.editIndex].isEditState=!0,e.$message({message:e.returnErrorMsg(t.error),type:"error"}))}),this.tabDataI=this.giveState(this.tabDataI)},handleCancelChild:function(){this.getChildTable(this.detailId),this.otherVariable.isChildEdit=!1},handleRealDeleteChild:function(e,t){var a=this;!0===confirm("是否确定删除?")&&(this.fetch("/oms/sls/SalesOrderChange/deleteDetail",[{fid:e.fid}]).then(function(e){200===e.status?(a.$message({message:"删除成功",type:"success"}),a.getChildTable(a.detailId)):a.$message({message:a.returnErrorMsg(e.error),type:"error"})}),this.otherVariable.isChildEdit=!1)},handleDeleteChild:function(e,t){var a=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o={orderDetailId:t[e].orderDetailId,masterId:t[e].masterId,variantId:t[e].variantId,changeDetailItemId:t[e].changeDetailItemId},s=void 0,l=void 0,n=void 0;i?(s="/oms/sls/SalesOrderChange/deleteOrderChangeDetail",l="是否确定删除?",n="删除成功"):(s="/oms/sls/SalesOrderChange/cancelDeleteOrderChangeDetail",l="是否取消删除?",n="取消删除成功"),t[e].masterId?!0===confirm(l)&&(this.fetch(s,o).then(function(e){200===e.status?(a.$message({message:n,type:"success"}),a.getChildTable(a.detailId)):a.$message({message:a.returnErrorMsg(e.error),type:"error"})}),this.otherVariable.isChildEdit=!1):this.$message({message:"新增的明细不可删除",type:"warning"})},getSummaries:function(e){var t=(e.columns,e.data),a=[],i=null,o=null;return t.length&&t.forEach(function(e,t){e.parentVariantId||(i+=Number(e.digit||0),o+=Number(e.theoryWght||0))}),a[0]="合计",a[10]=i,a[13]=o?o.toFixed(3):0,a},getSearchList:function(){this.pageObj.commonPage=1,this.pageObj.commonSize=10,this.getData()},clickDetail:function(e){var t=this;1===e.changType&&(this.otherVariable.isChildEdit=!0,this.tabDataI=this.giveState(this.tabDataI),e.isEditState=!0,this.$nextTick(function(){t.matCode=e.matCode,t.colorName=e.cx1Name,t.matAlloy=e.cx2,t.matThick=e.cx3})),this.childDetailRow=e||{},this.editIndex=this.$lodash.findIndex(this.tabDataI,["fid",e.fid]),this.editIndex<0&&(this.editIndex=0)},clickHeader:function(e,t){var a=this;switch(this.multiChangeForm.newName="",this.multiChangeForm.newCode="",e.label){case"型材型号":this.changeType="matCode",this.multiChangeVisible=!0,this.changeTitle="变更型材型号",this.$nextTick(function(){a.changeMatCode="",a.$refs.changeMatCodeRef.inputValueData=""});break;case"颜色代码":this.changeType="color",this.multiChangeVisible=!0,this.changeTitle="变更颜色",this.$nextTick(function(){a.changeColorName="",a.$refs.changeColorRef.inputValueData=""});break;case"材质":this.changeType="cx2Name",this.multiChangeVisible=!0,this.changeTitle="变更材质",this.$nextTick(function(){a.changeCx2Code="",a.$refs.changeCx2CodeRef.inputValueData=""});break;case"长度 m":this.changeType="length",this.multiChangeVisible=!0,this.changeTitle="变更长度";break;case"禁喷类型":this.changeType="txt2",this.multiChangeVisible=!0,this.changeTitle="变更禁喷类型",this.$nextTick(function(){a.multiUsrTxt2Name=""});break;case"撕筋":this.changeType="txt3",this.multiChangeVisible=!0,this.changeTitle="变更撕筋要求",this.$nextTick(function(){a.multiTempSelect=!1});break;case"备注":this.changeType="remark",this.multiChangeVisible=!0,this.changeTitle="变更明细备注";break;case"订单数":this.changeType="digit",this.multiChangeVisible=!0,this.changeTitle="变更订购支数";break;default:return!1}this.$nextTick(function(){document.querySelector(".el-dialog__body").querySelectorAll("input").length&&document.querySelector(".el-dialog__body").querySelectorAll("input")[0].focus(),document.querySelector(".el-dialog__body").querySelectorAll("textarea").length&&document.querySelector(".el-dialog__body").querySelectorAll("textarea")[0].focus()})},handleCommand:function(e,t,a){var i="",o="";switch(e){case"a":this.showChangeDialog(t,a,"color"),this.changeTitle="变更颜色",this.changeForm.oldName=a[t].cx1Name,this.changeForm.oldCode=a[t].cx1,this.changeForm.newName=a[t].orderNewCx1Name,this.changeForm.newCode=a[t].orderNewCx1,i="cx1Name",o="cx1";break;case"j":this.showChangeDialog(t,a,"matCode"),this.changeTitle="变更型材型号",this.changeForm.oldName=a[t].matName,this.changeForm.oldCode=a[t].matCode,this.changeForm.newName=a[t].orderNewMatName,this.changeForm.newCode=a[t].orderNewMatCode,i="matName",o="matCode";break;case"k":this.showChangeDialog(t,a,"cx2Name"),this.changeTitle="变更材质",this.changeForm.oldName=a[t].cx2Name,this.changeForm.oldCode=a[t].cx2,this.changeForm.newName=a[t].orderNewCx2Name,this.changeForm.newCode=a[t].orderNewCx2,i="cx2Name",o="cx2";break;case"b":this.showChangeDialog(t,a,"length"),this.changeTitle="变更长度",this.changeForm.oldName=a[t].cx4Name,this.changeForm.oldCode="",this.changeForm.newName=a[t].orderNewCx4Name,this.changeForm.newCode=a[t].orderNewCx4,i="cx4Name";break;case"c":this.showChangeDialog(t,a,"txt1"),this.changeTitle="变更喷码",this.changeForm.oldName=a[t].usrTxt1Name,this.changeForm.oldCode="",this.changeForm.newName=a[t].orderNewUsrTxt1Name,this.changeForm.newCode=a[t].orderNewUsrTxt1,i="usrTxt1Name";break;case"d":this.showChangeDialog(t,a,"txt2"),this.changeTitle="变更禁喷类型",this.changeForm.oldName=a[t].usrTxt2Name,this.changeForm.oldCode="",this.changeForm.newName="",this.changeForm.newCode="",i="usrTxt2Name";break;case"e":this.showChangeDialog(t,a,"txt3"),this.changeTitle="变更撕筋要求",this.changeForm.oldName=a[t].usrTxt3Name,this.changeForm.oldCode=a[t].usrTxt3,this.changeForm.newName=a[t].orderNewUsrTxt3Name,this.changeForm.newCode=a[t].orderNewUsrTxt3,i="usrTxt3Name";break;case"f":this.showChangeDialog(t,a,"remark"),this.changeTitle="变更明细备注",this.changeForm.oldName=a[t].remark,this.changeForm.oldCode=null,this.changeForm.newName=a[t].orderNewRemark,this.changeForm.newCode="",i="remark";break;case"g":this.showChangeDialog(t,a,"digit"),this.changeTitle="变更订购支数",this.changeForm.oldName=a[t].digit,this.changeForm.oldCode="",this.changeForm.newName=a[t].orderNewDigit,this.changeForm.newCode="",i="digit";break;case"h":this.handleDeleteChild(t,a,!0);break;case"i":this.handleDeleteChild(t,a,!1);break;default:this.$message(t)}this.changeForm.docCode=this.docCode,this.changeForm.fid=a[t].fid,this.changeForm.orderDetailId=a[t].orderDetailId,this.changeForm.masterId=a[t].masterId,this.changeForm.variantId=a[t].variantId,this.changeForm.parentVariantId=a[t].parentVariantId,this.changeForm.fieldName=i,o&&(this.changeForm.fieldCode=o)},showChangeDialog:function(e,t,a){var i=this;this.changeType=a,this.changeVisible=!0,this.$nextTick(function(){"matCode"===i.changeType&&(i.changeMatCode=t[e].orderNewMatCode,i.$refs.changeMatCodeRef=t[e].orderNewMatCode),"color"===i.changeType&&(i.changeColorName=t[e].orderNewCx1Name,i.$refs.changeColorRef=t[e].orderNewCx1Name),"cx2Name"===i.changeType&&(i.changeCx2Code=t[e].orderNewCx2,i.$refs.changeCx2CodeRef=t[e].orderNewCx2),"txt2"===i.changeType&&(i.usrTxt2Name=""),"txt3"===i.changeType&&(i.tempSelect=Number(i.changeForm.newCode)),document.querySelector(".el-dialog__body").querySelectorAll("input").length>1&&document.querySelector(".el-dialog__body").querySelectorAll("input")[1].focus(),document.querySelector(".el-dialog__body").querySelectorAll("textarea").length&&document.querySelector(".el-dialog__body").querySelectorAll("textarea")[0].focus()})},setChangeMatCode:function(e){this.changeMatCode=e.fcode,this.changeForm.newName=e.fname,this.changeForm.newCode=e.fcode},_setChangeMatCode:function(e){this.changeMatCode=e.fcode,this.multiChangeForm.newName=e.fname,this.multiChangeForm.newCode=e.fcode},setChangeColor:function(e){this.changeColorName=e.fname,this.changeForm.newName=e.fname,this.changeForm.newCode=e.fcode},_setChangeColor:function(e){this.changeColorName=e.fname,this.multiChangeForm.newName=e.fname,this.multiChangeForm.newCode=e.fcode},setChangeMatAlloy:function(e){this.changeCx2Code=e.fcode,this.changeForm.newName=e.fname,this.changeForm.newCode=e.fcode},_setChangeMatAlloy:function(e){this.changeCx2Code=e.fcode,this.multiChangeForm.newName=e.fname,this.multiChangeForm.newCode=e.fcode},setChangeUsrTxt2:function(e){this.changeForm.newName=e||""},_setChangeUsrTxt2:function(e){this.multiChangeForm.newName=e||""},setChangeSelect:function(e){this.changeForm.newCode=e.toString()},_setChangeSelect:function(e){this.multiChangeForm.newCode=e.toString()},returnOldVal:function(){switch(this.changeType){case"matCode":this.isShowNew=!1,this.changeForm.newCode=this.changeForm.oldCode,this.changeForm.newName=this.changeForm.oldName,this.changeMatCode=this.changeForm.oldCode,this.isShowNew=!0;break;case"color":this.isShowNew=!1,this.changeForm.newName=this.changeForm.oldName,this.changeColorName=this.changeForm.oldName,this.isShowNew=!0;break;case"cx2Name":this.isShowNew=!1,this.changeForm.newCode=this.changeForm.oldCode,this.changeForm.newName=this.changeForm.oldName,this.changeCx2Code=this.changeForm.oldCode,this.isShowNew=!0;break;case"length":case"txt1":case"txt2":this.isShowNew=!1,this.changeForm.newName=this.changeForm.oldName,this.isShowNew=!0;break;case"txt3":this.isShowNew=!1,this.tempSelect=Number(this.changeForm.oldCode),this.changeForm.newCode=this.changeForm.oldCode,this.changeForm.newName=this.changeForm.oldName,this.isShowNew=!0;break;case"remark":case"digit":this.isShowNew=!1,this.changeForm.newName=this.changeForm.oldName,this.isShowNew=!0;break;default:console.log("error")}},_saveChange:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i="",o="",s=[],l=!1,n=!0;switch(e){case"matCode":i="matName",o="matCode";break;case"color":i="cx1Name",o="cx1";break;case"cx2Name":i="cx2Name",o="cx2";break;case"length":i="cx4Name",l=!0;break;case"txt1":i="usrTxt1Name";break;case"txt2":i="usrTxt2Name";break;case"txt3":i="usrTxt3Name",o="usrTxt3";break;case"remark":i="remark";break;case"digit":i="digit",l=!0;break;default:console.log("error")}a?(this.tabDataI.forEach(function(e){var a={};a.changType=e.changType,a.docCode=t.docCode,a.fid=e.fid,a.orderDetailId=e.orderDetailId,a.masterId=e.masterId,a.variantId=e.variantId,a.parentVariantId=e.parentVariantId,a.newName=t.multiChangeForm.newName,o&&(a.newCode=t.multiChangeForm.newCode),o&&(a.oldCode=e[o]),"usrTxt3"===o&&(e[o]?a.oldCode=e[o]:a.oldCode="0"),a.oldName=e[i],a.fieldName=i,s.push(a)}),l&&(s=s.filter(function(e){return!0===Boolean(e.orderDetailId)})),s=s.filter(function(e){return 1!==e.changType}),n=!!["color","length","digit","matCode"].includes(e)&&(!this.multiChangeForm.newName&&!this.multiChangeForm.newCode)):(s.push(this.changeForm),n=!!["color","length","digit","matCode"].includes(e)&&(!this.changeForm.newName&&!this.changeForm.newCode)),n?this.$message({message:"该项的值不能为空",type:"warning"}):this.fetch("/oms/sls/SalesOrderChange/listSet",s).then(function(e){200===e.status?(t.$message({message:"变更成功",type:"success"}),a?t.multiChangeVisible=!1:t.changeVisible=!1,t.getChildTable(t.detailId)):t.$message({message:t.returnErrorMsg(e.error),type:"error"})})},getMatCodeList:function(e){var t=this;this.matCodeList=[],this.fetch("/oms/BasedataController/getAluModelByValue?pageSize=10",{fcode:e}).then(function(e){e.data&&e.data.list&&(t.matCodeList=e.data.list)})},setMatCode:function(e){this.matCode=e.fcode,this.$set(this.tabDataI[this.editIndex],"matCode",e.fcode),this.$set(this.tabDataI[this.editIndex],"matName",e.fname)},getColorCodeList:function(e){var t=this;this.colorCodeList=[],this.fetch("/oms/BasedataController/getMatColor?pageSize=10",{fname:e}).then(function(e){e.data&&e.data.list&&(t.colorCodeList=e.data.list)})},setColorCode:function(e){this.colorName=e.fname,this.$set(this.tabDataI[this.editIndex],"colorId",e.fid),this.$set(this.tabDataI[this.editIndex],"cx1",e.fcode),this.$set(this.tabDataI[this.editIndex],"cx1Name",e.fname)},getUsrTxt2List:function(){var e=this;this.usrTxt2List=[],this.getAjax("/basedata/sys/DataDictionary/getDataDictionary?docCode=30119").then(function(t){t.data?(e.usrTxt2List=t.data,e.usrTxt2List.unshift({dictText:"",dictCode:"",fId:null})):e.usrTxt2List=[]})},getMatAlloy:function(e){var t=this;this.matAlloyList=[],this.fetch("/oms/BasedataController/getMatAlloy",{fcode:e}).then(function(e){e.data&&e.data.list&&(t.matAlloyList=e.data.list,t.matAlloyList.unshift({fname:"",fcode:"",fid:null}))})},setMatAlloy:function(e){this.matAlloy=e.fcode,this.$set(this.tabDataI[this.editIndex],"cx2",e.fcode),this.$set(this.tabDataI[this.editIndex],"cx2Name",e.fname)},getMatThick:function(e){var t=this;this.matThickList=[],this.fetch("/oms/BasedataController/getMatThick",{fname:e}).then(function(e){e.data&&e.data.list&&(t.matThickList=e.data.list,t.matThickList.unshift({fname:"",fcode:"",fid:null}))})},setMatThick:function(e){this.matThick=e.fname,this.$set(this.tabDataI[this.editIndex],"cx3",e.fcode),this.$set(this.tabDataI[this.editIndex],"cx3Name",e.fname)},getClient:function(e){this.$refs.commondata.getClient(e)},setClient:function(e){this.$set(this.valueObj,"clientCode",e.fcode),this.$set(this.addOrEditForm,"orderNewClientName",e.fname),this.$set(this.addOrEditForm,"orderNewClientCode",e.fcode),this.$set(this.addOrEditForm,"orderNewClientId",e.fid)},getProject:function(e){this.$refs.commondata.getProject(e)},setProject:function(e){this.$set(this.valueObj,"projectName",e.projectName),this.$set(this.addOrEditForm,"orderNewProjectName",e.projectName),this.$set(this.addOrEditForm,"orderNewProjectCode",e.projectCode)},setProjectVal:function(e){this.$set(this.valueObj,"orderNewProjectName",e),this.$set(this.addOrEditForm,"orderNewProjectName",e)},getMarkMethod:function(e){this.$refs.commondata.getMarkMethod(e)},setMarkMethod:function(e){this.$set(this.valueObj,"markMethod",e.fname),this.$set(this.addOrEditForm,"orderNewUsrTxt1Name",e.fname),this.$set(this.addOrEditForm,"orderNewUsrTxt1",e.fcode)},getMdmPackMethod:function(e){this.$refs.commondata.getMdmPackMethod(e)},setPackMethod:function(e){this.$set(this.valueObj,"packMethodName",e.fname),this.$set(this.addOrEditForm,"orderNewPackMethodName",e.fname),this.$set(this.addOrEditForm,"orderNewPackMethodCode",e.fcode)},getOrderType:function(){var e=this;this.orderTypeList=[],this.getAjax("/basedata/sys/DataDictionary/getDataDictionary?docCode=30114").then(function(t){t.data?e.orderTypeList=t.data:e.orderTypeList=[]})},getDeliveryLevel:function(){var e=this;this.deliveryLevelList=[],this.getAjax("/basedata/sys/DataDictionary/getDataDictionary?docCode=30116").then(function(t){t.data?(t.data.forEach(function(e){e.dictValue=Number(e.dictValue)}),e.deliveryLevelList=t.data):e.deliveryLevelList=[]})},setDelivery:function(e){var t=void 0;t=this.deliveryLevelList.find(function(t){return t.dictValue===e}),o()(t)!=={}&&(this.addOrEditForm.orderNewDeliveryLevelName=t.dictText)}}}}.call(t,a(85))},1376:function(e,t,a){t=e.exports=a(656)(!0),t.push([e.i,".popup-enter-active[data-v-b4005552],.popup-leave-active[data-v-b4005552]{transition:left .1s;left:0}.popup-enter[data-v-b4005552],.popup-leave-to[data-v-b4005552]{left:100%}.el-tabs .el-tabs__active-bar[data-v-b4005552]{background-color:transparent!important}","",{version:3,sources:["F:/pc_project/erp-aluminium/yunerp/src/page/erp_pc/erp_sale/order_mana/order_change.vue"],names:[],mappings:"AACA,0EAEE,oBAAsB,AACtB,MAAQ,CACT,AACD,+DAEE,SAAW,CACZ,AACD,+CACE,sCAAyC,CAC1C",file:"order_change.vue",sourcesContent:["\n.popup-enter-active[data-v-b4005552],\n.popup-leave-active[data-v-b4005552] {\n  transition: left 0.1s;\n  left: 0;\n}\n.popup-enter[data-v-b4005552],\n.popup-leave-to[data-v-b4005552] {\n  left: 100%;\n}\n.el-tabs .el-tabs__active-bar[data-v-b4005552] {\n  background-color: transparent !important;\n}\n"],sourceRoot:""}])},1507:function(e,t,a){var i=a(1376);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(657)("1dbee1b4",i,!0,{})},1721:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-wrap"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.otherVariable.isSpread,expression:"!otherVariable.isSpread"}],staticClass:"common-left",style:{width:100-e.otherVariable.contentWidth+"%"}},[e.isShowNotAllowed?a("div",{staticClass:"not-allowed-wrap",on:{click:e.handleNotAllowed}}):e._e(),e._v(" "),a("div",{staticClass:"common-btn-wrap"},[a("el-button",{staticClass:"btn-cyan add-btn",on:{click:e.handleAdd}},[e._v("新建")]),e._v(" "),a("el-button",{on:{click:e.handleRefresh}},[e._v("刷新")])],1),e._v(" "),a("CommonSearch",{attrs:{isShowStatus:e.isShowStatus,propData:e.searchProp,searchForm:e.searchForm},on:{getData:e.getSearchList}},[a("template",{slot:"search-other-btn"},[a("el-button",{on:{click:e.handleReset}},[e._v("重置")])],1)],2),e._v(" "),e.isResize?a("CommonTable",{ref:"commontable",attrs:{mainHeight:e.mainHeight,isShowStatus:e.isShowStatus,propData:e.tableProp,otherVariable:e.otherVariable,tableData:e.tableData},on:{getInitPage:e.getInitPage,handleDetail:e.handleDetail}}):e._e(),e._v(" "),a("CommonPagination",{attrs:{pageObj:e.pageObj},on:{getData:e.getData}})],1),e._v(" "),a("div",{staticClass:"common-right",style:{width:e.otherVariable.contentWidth+"%"}},[a("CommonDetailX",{attrs:{otherVariable:e.otherVariable,propData:e.formProp,detailForm:e.detailForm},on:{toggleSpread:e.toggleSpread,handleDelete:e.handleDelete}},[a("template",{slot:"header"},[a("div",{ref:"headForm",staticClass:"header-form"},[e._l(e.formProp,function(t){return["outter"===t.type?a("div",[a("span",[e._v(e._s(t.name?t.name+":":""))]),e._v(" "),a("span",[e._v(e._s("已提交"===e.left_detailForm[t.prop]?"待提交":"已确认"===e.left_detailForm[t.prop]?"已提交":e.left_detailForm[t.prop]))])]):e._e()]})],2)]),e._v(" "),e.otherVariable.isChildEdit?e._e():a("template",{slot:"main-btn-wrap"},[e.detailId&&e.docStatus<50&&!e.isNewEdit?a("div",{staticClass:"xs-icon-confirm",on:{click:e.handleConfirm}},[e._v("提交")]):e._e(),e._v(" "),e.detailId&&50===e.docStatus&&!e.isNewEdit?a("div",{staticClass:"xs-icon-confirm",on:{click:e.handleUnConfirm}},[e._v("撤销")]):e._e(),e._v(" "),e.detailId&&e.docStatus<50&&!e.isNewEdit?a("i",{staticClass:"sm-icon-edit el-icon-edit",staticStyle:{right:"100px"},attrs:{title:"编辑"},on:{click:e.handleEditNew}}):e._e(),e._v(" "),e.docStatus<50&&e.isNewEdit?a("i",{staticClass:"sm-icon-edit el-icon-close",staticStyle:{right:"130px"},attrs:{title:"取消"},on:{click:e.handleCancelNew}}):e._e(),e._v(" "),e.docStatus<50&&e.isNewEdit?a("i",{staticClass:"sm-icon-edit el-icon-check",staticStyle:{right:"85px"},attrs:{title:"保存"},on:{click:e.handleEditSave}}):e._e(),e._v(" "),e.detailId&&!e.isNewEdit?a("i",{staticClass:"sm-icon-edit el-icon-news",staticStyle:{right:"52px"},attrs:{title:"作废"},on:{click:e.cancelOrder}}):e._e(),e._v(" "),e.detailId&&!e.isNewEdit?a("i",{staticClass:"sm-icon-edit el-icon-delete",staticStyle:{right:"5px"},attrs:{title:"删除"},on:{click:e.handleDelete}}):e._e()]),e._v(" "),a("template",{slot:"head-form-title"},[a("div",{staticClass:"head-form-title"},[a("span",[e._v(" "+e._s(e.left_detailForm.projectName)+e._s(e.left_detailForm.projectCode?"("+e.left_detailForm.projectCode+")":""))]),e._v(" "),a("span")])]),e._v(" "),a("template",{slot:"head-form-content"},[a("div",{staticClass:"head-form-content"},[e._l(e.formProp,function(t){return["inner"!==t.type||t.isLong?e._e():a("div",[a("span",[e._v(e._s(t.name)+"：")]),e._v(" "),a("span",[e._v(e._s(e.left_detailForm[t.prop]))])])]})],2),e._v(" "),a("div",{staticClass:"remark-wrap"},[a("div",[e._v("备注：")]),e._v(" "),a("div",{staticClass:"headspan scrollBar",attrs:{title:e.left_detailForm.remark}},[e._v(e._s(e.left_detailForm.remark))])])]),e._v(" "),a("template",{slot:"common-content"},["second"===e.activeName?a("div",{staticClass:"tab-btn-wrap",style:{left:e.tabLeft}},[e.left_detailForm.docStatus<50&&!e.otherVariable.isChildEdit?a("el-button",{staticClass:"btn-cyan",on:{click:e.handleAddChild}},[e._v("增行")]):e._e(),e._v(" "),e.otherVariable.isChildEdit?a("el-button",{on:{click:e.handleCancelChild}},[e._v("取消")]):e._e(),e._v(" "),e.otherVariable.isChildEdit?a("el-button",{staticClass:"btn-cyan search-btn",on:{click:e.handleSaveChild}},[e._v("保存")]):e._e()],1):e._e(),e._v(" "),a("el-tabs",{staticClass:"common-content-tab",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"订单抬头变更",name:"first"}},[e.isResize?a("div",{style:{height:e.formHeight+"px",overflowY:"auto"}},[a("el-form",{staticStyle:{"margin-top":"30px"},attrs:{model:e.detailForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"变更请求内容"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,type:"textarea",rows:2},model:{value:e.detailForm.changeText,callback:function(t){e.$set(e.detailForm,"changeText",t)},expression:"detailForm.changeText"}})],1)],1),e._v(" "),a("div",{staticClass:"tab-form-wrap",staticStyle:{padding:"0"}},[a("el-form",{staticClass:"tab-form-item",attrs:{model:e.detailForm,"label-width":"100px"}},[a("h3",{staticStyle:{"text-align":"center"}},[e._v("原值")]),e._v(" "),a("el-form-item",{attrs:{label:"交货天数"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:!0},model:{value:e.detailForm.orderOldDeliveryDays,callback:function(t){e.$set(e.detailForm,"orderOldDeliveryDays",t)},expression:"detailForm.orderOldDeliveryDays"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"货期等级"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0},model:{value:e.detailForm.orderOldDeliveryLevel,callback:function(t){e.$set(e.detailForm,"orderOldDeliveryLevel",t)},expression:"detailForm.orderOldDeliveryLevel"}},e._l(e.deliveryLevelList,function(e,t){return a("el-option",{key:t,attrs:{label:e.dictText,value:e.dictValue}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"单据类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0},model:{value:e.detailForm.orderOldDocType,callback:function(t){e.$set(e.detailForm,"orderOldDocType",t)},expression:"detailForm.orderOldDocType"}},e._l(e.orderTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.dictText,value:e.dictText}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"工程名称"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:!0},model:{value:e.detailForm.orderOldProjectName,callback:function(t){e.$set(e.detailForm,"orderOldProjectName",t)},expression:"detailForm.orderOldProjectName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"包装方式"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:!0},model:{value:e.detailForm.orderOldPackMethodName,callback:function(t){e.$set(e.detailForm,"orderOldPackMethodName",t)},expression:"detailForm.orderOldPackMethodName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"喷码"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:!0},model:{value:e.detailForm.orderOldUsrTxt1Name,callback:function(t){e.$set(e.detailForm,"orderOldUsrTxt1Name",t)},expression:"detailForm.orderOldUsrTxt1Name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注说明"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!0,type:"textarea",rows:2},model:{value:e.detailForm.orderOldRemark,callback:function(t){e.$set(e.detailForm,"orderOldRemark","string"==typeof t?t.trim():t)},expression:"detailForm.orderOldRemark"}})],1)],1),e._v(" "),a("el-form",{staticClass:"tab-form-item",attrs:{model:e.addOrEditForm,"label-width":"50px"}},[a("h3",{staticStyle:{"text-align":"center"}},[e._v("新值")]),e._v(" "),a("el-form-item",{attrs:{label:" "}},[a("el-input",{directives:[{name:"Int",rawName:"v-Int"}],staticStyle:{width:"100%"},attrs:{readonly:!e.isNewEdit},model:{value:e.detailForm.orderNewDeliveryDays,callback:function(t){e.$set(e.detailForm,"orderNewDeliveryDays",t)},expression:"detailForm.orderNewDeliveryDays"}})],1),e._v(" "),a("el-form-item",{attrs:{label:" "}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",disabled:!e.isNewEdit},on:{change:e.setDelivery},model:{value:e.addOrEditForm.orderNewDeliveryLevel,callback:function(t){e.$set(e.addOrEditForm,"orderNewDeliveryLevel",t)},expression:"addOrEditForm.orderNewDeliveryLevel"}},e._l(e.deliveryLevelList,function(e,t){return a("el-option",{key:t,attrs:{label:e.dictText,value:e.dictValue}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:" "}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",disabled:!e.isNewEdit},model:{value:e.addOrEditForm.orderNewDocType,callback:function(t){e.$set(e.addOrEditForm,"orderNewDocType",t)},expression:"addOrEditForm.orderNewDocType"}},e._l(e.orderTypeList,function(e,t){return a("el-option",{key:t,attrs:{label:e.dictText,value:e.dictText}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:" "}},[a("el-input",{staticStyle:{width:"100%"},attrs:{readonly:!e.isNewEdit},model:{value:e.detailForm.orderNewProjectName,callback:function(t){e.$set(e.detailForm,"orderNewProjectName",t)},expression:"detailForm.orderNewProjectName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:" "}},[a("SelectEnter",{ref:"packMethodSelect",attrs:{disabled:!e.isNewEdit,inputValue:e.valueObj.packMethodName,selectTHs:e.valueObj.packMethodTHs,selectTds:e.valueObj.mdmPackList,placeholder:"请回车搜索并选择",selectLabel:"fname",selectValue:"fname",selectKey:"fid"},on:{getList:e.getMdmPackMethod,setObj:e.setPackMethod}})],1),e._v(" "),a("el-form-item",{attrs:{label:" "}},[a("SelectEnter",{ref:"usr1Select",attrs:{disabled:!e.isNewEdit,inputValue:e.valueObj.markMethod,selectTHs:e.valueObj.markMethodTHs,selectTds:e.valueObj.markMethodList,placeholder:"请回车搜索并选择",selectLabel:"fname",selectValue:"fname",selectKey:"fid"},on:{getList:e.getMarkMethod,setObj:e.setMarkMethod}})],1),e._v(" "),a("el-form-item",{attrs:{label:" "}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:!e.isNewEdit,type:"textarea",rows:2},model:{value:e.addOrEditForm.orderNewRemark,callback:function(t){e.$set(e.addOrEditForm,"orderNewRemark","string"==typeof t?t.trim():t)},expression:"addOrEditForm.orderNewRemark"}})],1)],1)],1)],1):e._e()]),e._v(" "),a("el-tab-pane",{attrs:{label:"订单明细变更",name:"second"}},[e.isResize?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingI,expression:"loadingI"}],attrs:{"tooltip-effect":"dark",data:e.tabDataI,border:"","show-summary":"","summary-method":e.getSummaries,height:e.tableHeight,"highlight-current-row":""},on:{"row-click":e.clickDetail,"header-click":e.clickHeader}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.docItem))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"变更请求内容",align:"left",width:"150","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.changeText))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"项目号",align:"left",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.itemNo))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"型材型号",align:e.otherVariable.isChildEdit?"center":"left",width:"110px","label-class-name":"table-valid-head","show-overflow-tooltip":!e.otherVariable.isChildEdit},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEditState?e._e():a("span",[e._v(e._s(t.row.matCode))]),e._v(" "),t.row.isEditState?a("SelectEnter",{attrs:{"data-index":"",inputWidth:"109px",inputValue:e.matCode,selectTHs:e.matCodeTHs,selectTds:e.matCodeList,selectLabel:"fcode",selectValue:"fcode",selectKey:"fid",disabled:Boolean(t.row.itemNo&&t.row.itemNo.includes("."))||1===t.row.isCombine},on:{inputFocus:function(t){e.setFocus(0)},selected:e.nextFocus,getList:e.getMatCodeList,setObj:e.setMatCode}}):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"颜色代码",align:e.otherVariable.isChildEdit?"center":"left",width:"120px","label-class-name":"table-valid-head","show-overflow-tooltip":!e.otherVariable.isChildEdit},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEditState?e._e():a("span",[e._v(e._s(t.row.cx1Name))]),e._v(" "),t.row.isEditState?a("SelectEnter",{attrs:{"data-index":"",inputWidth:"119px",inputValue:e.colorName,selectTHs:e.colorCodeTHs,selectTds:e.colorCodeList,selectLabel:"fname",selectValue:"fname",selectKey:"fid"},on:{inputFocus:function(t){e.setFocus(1)},selected:e.nextFocus,getList:e.getColorCodeList,setObj:e.setColorCode}}):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"颜色名称",prop:"colorDescribe",align:"left","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"颜色类别",prop:"colorGroupName",align:"left","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"材质",align:e.otherVariable.isChildEdit?"center":"left",width:"80px","show-overflow-tooltip":!e.otherVariable.isChildEdit},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEditState?e._e():a("span",[e._v(e._s(t.row.cx2Name))]),e._v(" "),t.row.isEditState?a("SelectEnter",{attrs:{"data-index":"",inputWidth:"79px",inputValue:e.matAlloy,selectTHs:e.matAlloyTHs,selectTds:e.matAlloyList,selectLabel:"fcode",selectValue:"fcode",selectKey:"fid"},on:{inputFocus:function(t){e.setFocus(2)},selected:e.nextFocus,getList:e.getMatAlloy,setObj:e.setMatAlloy}}):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"长度 m",align:e.otherVariable.isChildEdit?"center":"right",width:"80","label-class-name":"table-valid-head"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEditState?e._e():a("span",[e._v(e._s(t.row.cx4Name))]),e._v(" "),t.row.isEditState?a("el-input",{staticStyle:{width:"79px"},attrs:{"data-index":"",disabled:Boolean(t.row.itemNo&&t.row.itemNo.includes("."))||1===t.row.isCombine},on:{focus:function(t){e.setFocus(3)}},nativeOn:{keydown:function(a){if(!("button"in a)&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;e.nextFocus(a,!0,t.row.cx4Name,"长度")}},model:{value:t.row.cx4Name,callback:function(a){e.$set(t.row,"cx4Name",a)},expression:"scope.row.cx4Name"}}):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"膜厚",align:e.otherVariable.isChildEdit?"center":"right",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEditState?e._e():a("span",[e._v(e._s(t.row.cx3Name))]),e._v(" "),t.row.isEditState?a("SelectEnter",{attrs:{"data-index":"",inputWidth:"79px",inputValue:e.matThick,selectTHs:e.matThickTHs,selectTds:e.matThickList,selectLabel:"fcode",selectValue:"fcode",selectKey:"fid"},on:{inputFocus:function(t){e.setFocus(4)},selected:e.nextFocus,getList:e.getMatThick,setObj:e.setMatThick}}):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"订单数",width:"70px",prop:"digit",align:e.otherVariable.isChildEdit?"center":"right","label-class-name":"table-valid-head"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEditState?e._e():a("span",[e._v(e._s(t.row.digit))]),e._v(" "),t.row.isEditState?a("el-input",{directives:[{name:"Int",rawName:"v-Int"}],staticStyle:{width:"69px"},attrs:{"data-index":"",disabled:Boolean(t.row.itemNo&&t.row.itemNo.includes("."))||1===t.row.isCombine},on:{focus:function(t){e.setFocus(5)}},nativeOn:{keydown:function(a){if(!("button"in a)&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;e.nextFocus(a,!0,t.row.digit,"订单数")}},model:{value:t.row.digit,callback:function(a){e.$set(t.row,"digit",a)},expression:"scope.row.digit"}}):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"米重 kg/m",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.meterWght?parseFloat(t.row.meterWght).toFixed(3):""))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"支重 kg/pcs",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.unitWght?parseFloat(t.row.unitWght).toFixed(3):""))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"理重 kg",align:"right",prop:"theoryWght"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.theoryWght?parseFloat(t.row.theoryWght).toFixed(3):""))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"禁喷类型",width:"120px",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEditState?e._e():a("span",[e._v(e._s(t.row.usrTxt2Name))]),e._v(" "),t.row.isEditState?a("el-select",{staticStyle:{width:"100%",background:"#fff","border-radius":"5px"},attrs:{clearable:"","data-index":""},on:{focus:function(t){e.setFocus(6)},"visible-change":e.banNextFocus},nativeOn:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.selectEnterEvent(t):null}},model:{value:t.row.usrTxt2Name,callback:function(a){e.$set(t.row,"usrTxt2Name",a)},expression:"scope.row.usrTxt2Name"}},e._l(e.usrTxt2List,function(e,t){return a("el-option",{key:t,attrs:{label:e.dictText,value:e.dictText}})}),1):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"撕筋",width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEditState?e._e():a("span",[e._v(e._s("1"===t.row.usrTxt3?"✔":"×"))]),e._v(" "),t.row.isEditState?a("el-select",{staticStyle:{width:"100%",background:"#fff","border-radius":"5px"},attrs:{clearable:"",placeholder:" ","data-index":""},on:{focus:function(t){e.setFocus(7)},"visible-change":e.banNextFocus},nativeOn:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.selectEnterEvent(t):null}},model:{value:t.row.usrTxt3,callback:function(a){e.$set(t.row,"usrTxt3",a)},expression:"scope.row.usrTxt3"}},e._l(e.getStaticList("isTrueString"),function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"胶条规格",align:e.otherVariable.isChildEdit?"center":"left","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEditState?e._e():a("span",[e._v(e._s(t.row.usrTxt6Name))]),e._v(" "),t.row.isEditState?a("el-input",{attrs:{"data-index":""},on:{focus:function(t){e.setFocus(8)}},nativeOn:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.nextFocus(t):null}},model:{value:t.row.usrTxt6Name,callback:function(a){e.$set(t.row,"usrTxt6Name",a)},expression:"scope.row.usrTxt6Name"}}):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"备注",width:"200",align:e.otherVariable.isChildEdit?"center":"left","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEditState?e._e():a("span",[e._v(e._s(t.row.remark))]),e._v(" "),t.row.isEditState?a("el-input",{staticStyle:{width:"199px"},attrs:{"data-index":""},nativeOn:{keydown:function(t){e.handleLastCell(t)}},model:{value:t.row.remark,callback:function(a){e.$set(t.row,"remark","string"==typeof a?a.trim():a)},expression:"scope.row.remark"}}):e._e()]}}])}),e._v(" "),e.left_detailForm.docStatus<50&&!e.otherVariable.isChildEdit?a("el-table-column",{attrs:{label:"操作",align:"center",width:"55",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.changType?a("i",{staticClass:"el-icon-delete",attrs:{title:"删除"},on:{click:function(a){a.stopPropagation(),e.handleRealDeleteChild(t.row,t.$index)}}}):e._e(),e._v(" "),1!==t.row.changType?a("el-dropdown",{on:{command:function(a){e.handleCommand(a,t.$index,e.tabDataI)}}},[a("span",[a("i",{staticClass:"el-icon-more"})]),e._v(" "),a("el-dropdown-menu",{staticClass:"del-shadow",attrs:{slot:"dropdown"},slot:"dropdown"},[3!==t.row.changType?[t.row.orderDetailId&&1!==t.row.isCombine?a("el-dropdown-item",{attrs:{command:"j"}},[e._v("变更型材型号")]):e._e(),e._v(" "),a("el-dropdown-item",{attrs:{command:"a"}},[e._v("变更颜色")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"k"}},[e._v("变更材质")]),e._v(" "),t.row.orderDetailId?a("el-dropdown-item",{attrs:{command:"b"}},[e._v("变更长度")]):e._e(),e._v(" "),a("el-dropdown-item",{attrs:{command:"d"}},[e._v("变更禁喷类型")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"e"}},[e._v("变更撕筋要求")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"f"}},[e._v("变更明细备注")]),e._v(" "),t.row.orderDetailId?a("el-dropdown-item",{attrs:{command:"g"}},[e._v("变更订购支数")]):e._e(),e._v(" "),a("el-dropdown-item",{attrs:{command:"h"}},[e._v("删除订单明细")])]:e._e(),e._v(" "),3===t.row.changType?[a("el-dropdown-item",{attrs:{command:"i"}},[e._v("取消删除订单明细")])]:e._e()],2)],1):e._e()]}}])}):e._e()],1):e._e()],1)],1)],1)],2),e._v(" "),a("transition",{attrs:{name:"popup"}},[a("CommonAdd",{directives:[{name:"show",rawName:"v-show",value:e.isShowStatus.isPopUp,expression:"isShowStatus.isPopUp"}],attrs:{otherVariable:e.otherVariable},on:{handleCancel:e.handleCancel,handleSave:e.handleSave}},[a("template",{slot:"head-form-title"},[a("div",{staticClass:"head-form-title"},[a("span",[e._v(e._s(e.otherVariable.popupTitle))])])]),e._v(" "),a("template",{slot:"custom-add-form"},[a("div",[a("el-form",{attrs:{model:e.searchChooseForm,inline:!0}},[a("el-form-item",{attrs:{label:"下单日期"}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.searchChooseForm.orderDocDateStart,callback:function(t){e.$set(e.searchChooseForm,"orderDocDateStart",t)},expression:"searchChooseForm.orderDocDateStart"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"至："}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.searchChooseForm.orderDocDateEnd,callback:function(t){e.$set(e.searchChooseForm,"orderDocDateEnd",t)},expression:"searchChooseForm.orderDocDateEnd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{model:{value:e.searchChooseForm.refDocCode,callback:function(t){e.$set(e.searchChooseForm,"refDocCode","string"==typeof t?t.trim():t)},expression:"searchChooseForm.refDocCode"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"btn-cyan add-btn",on:{click:e.getChooseTableData}},[e._v("查询")]),e._v(" "),a("el-button",{on:{click:e.resetChooseTable}},[e._v("重置")])],1)],1),e._v(" "),a("el-table",{attrs:{border:"","highlight-current-row":"",data:e.chooseTableData,height:.6*e.$store.state.screenHei},on:{"row-click":e.chooseRow}},[a("el-table-column",{attrs:{prop:"refDocCode",label:"订单号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"docStatusName",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"docType",label:"单据类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"docDate",label:"下单日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deliveryDate",label:"交货日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"clientCode",label:"客户代码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"clientCode2",label:"经销商代码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"projectName",label:"工程名称","show-overflow-tooltip":!0}})],1),e._v(" "),a("CommonPagination",{attrs:{pageObj:e.pageDialog},on:{getData:e.getChooseTableData}})],1)])],2)],1),e._v(" "),a("el-dialog",{attrs:{title:e.changeTitle,visible:e.changeVisible,width:"30%"},on:{"update:visible":function(t){e.changeVisible=t}}},[a("el-form",{attrs:{model:e.changeForm},nativeOn:{submit:function(e){e.preventDefault()}}},[["length","txt1","txt2","remark","color","digit"].includes(e.changeType)?a("el-form-item",{attrs:{label:"原值"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.changeForm.oldName,callback:function(t){e.$set(e.changeForm,"oldName","string"==typeof t?t.trim():t)},expression:"changeForm.oldName"}})],1):e._e(),e._v(" "),"matCode"===e.changeType?a("el-form-item",{attrs:{label:"原值"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.changeForm.oldCode,callback:function(t){e.$set(e.changeForm,"oldCode","string"==typeof t?t.trim():t)},expression:"changeForm.oldCode"}})],1):e._e(),e._v(" "),"txt3"===e.changeType?a("el-form-item",{attrs:{label:"原值"}},[a("span",[e._v(e._s(e.changeForm.oldCode?0==e.changeForm.oldCode?"x":"✔":"x"))])]):e._e(),e._v(" "),"color"===e.changeType?a("el-form-item",{attrs:{label:"新值"}},[e.isShowNew?a("SelectEnter",{ref:"changeColorRef",attrs:{inputWidth:"100%",placeholder:"请输入颜色代码回车搜索",inputValue:e.changeColorName,selectTHs:e.colorCodeTHs,selectTds:e.colorCodeList,selectLabel:"fname",selectValue:"fcode",selectKey:"fid"},on:{getList:e.getColorCodeList,setObj:e.setChangeColor}}):e._e(),e._v(" "),a("el-button",{on:{click:e.returnOldVal}},[e._v("还原")])],1):e._e(),e._v(" "),"cx2Name"===e.changeType?a("el-form-item",{attrs:{label:"新值"}},[e.isShowNew?a("SelectEnter",{ref:"changeCx2CodeRef",attrs:{inputWidth:"100%",placeholder:"请输入材质代码回车搜索",inputValue:e.changeCx2Code,selectTHs:e.matAlloyTHs,selectTds:e.matAlloyList,selectLabel:"fcode",selectValue:"fcode",selectKey:"fid"},on:{getList:e.getMatAlloy,setObj:e.setChangeMatAlloy}}):e._e(),e._v(" "),a("el-button",{on:{click:e.returnOldVal}},[e._v("还原")])],1):e._e(),e._v(" "),"matCode"===e.changeType?a("el-form-item",{attrs:{label:"新值"}},[e.isShowNew?a("SelectEnter",{ref:"changeMatCodeRef",attrs:{inputWidth:"100%",placeholder:"请输入型材型号回车搜索",inputValue:e.changeMatCode,selectTHs:e.matCodeTHs,selectTds:e.matCodeList,selectLabel:"fname",selectValue:"fcode",selectKey:"fid"},on:{getList:e.getMatCodeList,setObj:e.setChangeMatCode}}):e._e(),e._v(" "),a("el-button",{on:{click:e.returnOldVal}},[e._v("还原")])],1):e._e(),e._v(" "),"length"===e.changeType?a("el-form-item",{attrs:{label:"新值"}},[e.isShowNew?a("el-input",{model:{value:e.changeForm.newName,callback:function(t){e.$set(e.changeForm,"newName","string"==typeof t?t.trim():t)},expression:"changeForm.newName"}}):e._e(),e._v(" "),a("el-button",{on:{click:e.returnOldVal}},[e._v("还原")])],1):e._e(),e._v(" "),"txt1"===e.changeType?a("el-form-item",{attrs:{label:"新值"}},[e.isShowNew?a("el-input",{model:{value:e.changeForm.newName,callback:function(t){e.$set(e.changeForm,"newName","string"==typeof t?t.trim():t)},expression:"changeForm.newName"}}):e._e(),e._v(" "),a("el-button",{on:{click:e.returnOldVal}},[e._v("还原")])],1):e._e(),e._v(" "),"txt2"===e.changeType?a("el-form-item",{attrs:{label:"新值"}},[e.isShowNew?a("el-select",{attrs:{clearable:""},on:{change:e.setChangeUsrTxt2},model:{value:e.usrTxt2Name,callback:function(t){e.usrTxt2Name=t},expression:"usrTxt2Name"}},e._l(e.usrTxt2List,function(e,t){return a("el-option",{key:t,attrs:{label:e.dictText,value:e.dictText}})}),1):e._e(),e._v(" "),a("el-button",{on:{click:e.returnOldVal}},[e._v("还原")])],1):e._e(),e._v(" "),"txt3"===e.changeType?a("el-form-item",{attrs:{label:"新值"}},[e.isShowNew?a("el-checkbox",{attrs:{"true-label":1,"false-label":0},on:{change:e.setChangeSelect},model:{value:e.tempSelect,callback:function(t){e.tempSelect=t},expression:"tempSelect"}}):e._e(),e._v(" "),a("el-button",{on:{click:e.returnOldVal}},[e._v("还原")])],1):e._e(),e._v(" "),"remark"===e.changeType?a("el-form-item",{attrs:{label:"新值"}},[e.isShowNew?a("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.changeForm.newName,callback:function(t){e.$set(e.changeForm,"newName","string"==typeof t?t.trim():t)},expression:"changeForm.newName"}}):e._e(),e._v(" "),a("el-button",{on:{click:e.returnOldVal}},[e._v("还原")])],1):e._e(),e._v(" "),"digit"===e.changeType?a("el-form-item",{attrs:{label:"新值"}},[e.isShowNew?a("el-input",{model:{value:e.changeForm.newName,callback:function(t){e.$set(e.changeForm,"newName","string"==typeof t?t.trim():t)},expression:"changeForm.newName"}}):e._e(),e._v(" "),a("el-button",{on:{click:e.returnOldVal}},[e._v("还原")])],1):e._e()],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.changeVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{staticClass:"btn-cyan add-btn",on:{click:function(t){e._saveChange(e.changeType,!1)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.changeTitle,visible:e.multiChangeVisible,width:"30%"},on:{"update:visible":function(t){e.multiChangeVisible=t}}},[a("el-form",{attrs:{model:e.multiChangeForm},nativeOn:{submit:function(e){e.preventDefault()}}},["matCode"===e.changeType?a("el-form-item",{attrs:{label:"型材型号"}},[a("SelectEnter",{ref:"changeMatCodeRef",attrs:{inputWidth:"100%",placeholder:"请输入型材型号回车搜索",inputValue:e.changeMatCode,selectTHs:e.matCodeTHs,selectTds:e.matCodeList,selectLabel:"fname",selectValue:"fcode",selectKey:"fid"},on:{getList:e.getMatCodeList,setObj:e._setChangeMatCode}})],1):e._e(),e._v(" "),"color"===e.changeType?a("el-form-item",{attrs:{label:"颜色"}},[a("SelectEnter",{ref:"changeColorRef",attrs:{inputWidth:"100%",placeholder:"请输入颜色代码回车搜索",inputValue:e.changeColorName,selectTHs:e.colorCodeTHs,selectTds:e.colorCodeList,selectLabel:"fname",selectValue:"fcode",selectKey:"fid"},on:{getList:e.getColorCodeList,setObj:e._setChangeColor}})],1):e._e(),e._v(" "),"cx2Name"===e.changeType?a("el-form-item",{attrs:{label:"材质"}},[a("SelectEnter",{ref:"changeCx2CodeRef",attrs:{inputWidth:"100%",placeholder:"请输入材质代码回车搜索",inputValue:e.changeCx2Code,selectTHs:e.matAlloyTHs,selectTds:e.matAlloyList,selectLabel:"fcode",selectValue:"fcode",selectKey:"fid"},on:{getList:e.getMatAlloy,setObj:e._setChangeMatAlloy}})],1):e._e(),e._v(" "),"length"===e.changeType?a("el-form-item",{attrs:{label:"长度"}},[a("el-input",{model:{value:e.multiChangeForm.newName,callback:function(t){e.$set(e.multiChangeForm,"newName","string"==typeof t?t.trim():t)},expression:"multiChangeForm.newName"}})],1):e._e(),e._v(" "),"txt2"===e.changeType?a("el-form-item",{attrs:{label:"禁喷类型"}},[a("el-select",{attrs:{clearable:""},on:{change:e._setChangeUsrTxt2},model:{value:e.multiUsrTxt2Name,callback:function(t){e.multiUsrTxt2Name=t},expression:"multiUsrTxt2Name"}},e._l(e.usrTxt2List,function(e,t){return a("el-option",{key:t,attrs:{label:e.dictText,value:e.dictText}})}),1)],1):e._e(),e._v(" "),"txt3"===e.changeType?a("el-form-item",{attrs:{label:"撕筋要求"}},[a("el-checkbox",{attrs:{"true-label":1,"false-label":0},on:{change:e._setChangeSelect},model:{value:e.multiTempSelect,callback:function(t){e.multiTempSelect=t},expression:"multiTempSelect"}})],1):e._e(),e._v(" "),"remark"===e.changeType?a("el-form-item",{attrs:{label:"明细备注"}},[a("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.multiChangeForm.newName,callback:function(t){e.$set(e.multiChangeForm,"newName","string"==typeof t?t.trim():t)},expression:"multiChangeForm.newName"}})],1):e._e(),e._v(" "),"digit"===e.changeType?a("el-form-item",{attrs:{label:"订购支数"}},[a("el-input",{model:{value:e.multiChangeForm.newName,callback:function(t){e.$set(e.multiChangeForm,"newName","string"==typeof t?t.trim():t)},expression:"multiChangeForm.newName"}})],1):e._e()],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.multiChangeVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{staticClass:"btn-cyan add-btn",on:{click:function(t){e._saveChange(e.changeType,!0)}}},[e._v("确 定")])],1)],1),e._v(" "),a("CommonData",{ref:"commondata",attrs:{valueObj:e.valueObj}})],1)])},staticRenderFns:[]}},780:function(e,t,a){function i(e){a(1507)}var o=a(1)(a(1246),a(1721),i,"data-v-b4005552",null);e.exports=o.exports},795:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{isShowStatus:{type:Object},propData:{type:Array},searchForm:{type:Object},isInLine:{type:Boolean,default:!1},inputWidth:{type:String,default:""}},data:function(){return{}},methods:{toggleSearch:function(){this.isShowStatus.isMore=!this.isShowStatus.isMore},handleSearch:function(){this.isShowStatus.isMore=!1,this.$emit("getData")},selectChange:function(e){this.$emit("selectChange",e)},changeStatus:function(e){this.$emit("changeStatus",e)}}}},796:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var i=a(267),o=a.n(i);t.default={props:{mainHeight:{type:Number,default:713},isShowStatus:{type:Object},otherVariable:{type:Object},propData:{type:Array},tableData:{type:Array},isMulTable:{type:Boolean,default:!1},isMulCommonTable:{type:Boolean,default:!1},isCenter:{type:Boolean,default:!1},isSum:{type:Boolean,default:!1},sumParam:{type:Object,default:function(){return{digit:null,theoryWght:null}}},formTableData:{type:Array,default:function(){return[]}},formPropTable:{type:Array,default:function(){return[]}},tableHeight:{type:Number},isHasDbMethod:{type:Boolean,default:!1},isPureClickRow:{type:Boolean,default:!1},mainKey:{type:String,default:"fid"},isMulSelect:{type:Boolean,default:!1},isNotMulSelect:{type:Boolean,default:!0},isNotHandleSelect:{type:Boolean,default:!1}},data:function(){return{tableHeaderColor:{"background-color":"#f5f7fa"},isShowTop:!0,mulTableData:[],copyMulTableData:[],focusTimes:1,editIndex:0,load_status_list:[0,null,50]}},mounted:function(){this.initStatus()},methods:{initStatus:function(){this.mulTableData=this.giveState(this.formTableData),this.copyMulTableData=this.giveState(this.$lodash.cloneDeep(this.formTableData))},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;t.index=a},handleDetail:function(e){this.$emit("handleDetail",e)},renderRow:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fid",i=void 0;i=this.tableData.find(function(t){return t[a]===e}),this.$nextTick(function(){i?(t.$refs.simpleTable.setCurrentRow(i),t.$emit("handleDetail",i)):t.$emit("getInitPage")})},handleSelectionChange:function(e){this.$emit("handleSelectionChange",e)},handleRowEdit:function(e){this.focusTimes=1,this.editIndex=this.$lodash.findIndex(this.mulTableData,[this.mainKey,e[this.mainKey]]),this.otherVariable.isReadTable||(this.otherVariable.isChildEdit=!0,this.mulTableData=this.giveState(this.mulTableData),e.isEditState=!0),this.otherVariable.isOtherTable&&this.$emit("handleOtherTable",e),this.isPureClickRow&&(this.$emit("pureClickRow",e,this.editIndex),this.isNotHandleSelect||this.$refs.multipletable.toggleRowSelection(e))},handleDblClick:function(e){this.isHasDbMethod&&this.$emit("handleDblClick",e)},changeCell:function(e){this.$emit("changeCell",e)},jumpToCell:function(t){var a=this;"down"===t?(this.editIndex+=1,this.editIndex>=this.mulTableData.length&&(this.editIndex=this.mulTableData.length-1)):(this.editIndex-=1,this.editIndex<0&&(this.editIndex=0)),this.$nextTick(function(){a.$refs.multipletable.setCurrentRow(a.mulTableData[a.editIndex]),e(".el-table__body-wrapper .el-input__inner")[a.editIndex].focus()})},showLabel:function(e,t){var a={label:"",value:""};return a=e.find(function(e){return e.value===t})||{label:"",value:""},a.label},sortAlpha:function(e,t,a){return e[a]>t[a]?1:e[a]<t[a]?-1:0},handleFocus:function(){var t=this;e(".el-table__body-wrapper .el-input__inner")[0].focus();var a=[].concat(o()(e(".el-table__body-wrapper .el-input__inner"))).length;e(".el-table__body-wrapper .el-input__inner").keyup(function(i){if(13===i.which){var o=e(this).parents(".is-center"),s=o.next().find(".el-input__inner");if(s.prop("disabled"))s=o.next().next().find(".el-input__inner"),s.focus();else if(s.focus(),t.focusTimes+=1,t.focusTimes>a){var l=void 0;l=t.mulTableData[t.editIndex],t.$emit("handleSaveChild",l,"edit")}}})},getSummaries:function(e){var t=(e.columns,e.data),a=[];if(this.isSum&&this.sumParam.digit&&this.sumParam.theoryWght){var i=null,o=null;t.length&&t.forEach(function(e,t){e.parentVariantId||(i+=Number(e.digit),o+=Number(e.theoryWght))}),a[0]="合计",a[this.sumParam.digit]=i,o&&(a[this.sumParam.theoryWght]=o.toFixed(3))}else a=[];return a},setCircle:function(e){return e>=0&&e<50?"red":e>=100?"green":50===e?"red":"none"},setCircleII:function(e){return 50===e?"yellow":"none"},toggleTop:function(e){this.isShowTop=e},cancelTop:function(){this.$emit("cancelTop")}}}}.call(t,a(85))},797:function(e,t,a){t=e.exports=a(656)(!0),t.push([e.i,".mixin-rowI[data-v-7016dbf5]{color:#333}.mixin-rowII[data-v-7016dbf5]{color:#888;display:flex;align-items:center}.current-row .mixin-rowII[data-v-7016dbf5]{color:#fff}.current-row:hover .mixin-rowII[data-v-7016dbf5]{color:#888}.top-tip[data-v-7016dbf5]{border:1px dotted red;padding-left:2px;padding-right:2px;line-height:1.2;display:inline-block;color:red;margin-left:10px;transform:scale(.88);font-size:12px}.statusCircle[data-v-7016dbf5]{width:10px;height:10px;border-radius:50%;margin-left:10px}.statusCircle.red[data-v-7016dbf5]{background:red}.statusCircle.green[data-v-7016dbf5]{background:green}.statusCircle.yellow[data-v-7016dbf5]{background:#ff0}.statusCircle.none[data-v-7016dbf5]{display:none}.statusCircleII[data-v-7016dbf5]{width:10px;height:10px;border-radius:50%;margin-left:5px}.statusCircleII.red[data-v-7016dbf5]{background:red}.statusCircleII.green[data-v-7016dbf5]{background:green}.statusCircleII.yellow[data-v-7016dbf5]{background:#ff0}.statusCircleII.none[data-v-7016dbf5]{display:none}","",{version:3,sources:["F:/pc_project/erp-aluminium/yunerp/src/components/CommonTable.vue"],names:[],mappings:"AACA,6BACE,UAAY,CACb,AACD,8BACE,WAAY,AACZ,aAAc,AACd,kBAAoB,CACrB,AACD,2CACE,UAAY,CACb,AACD,iDACE,UAAY,CACb,AACD,0BACE,sBAAuB,AACvB,iBAAkB,AAClB,kBAAmB,AACnB,gBAAiB,AACjB,qBAAsB,AACtB,UAAW,AACX,iBAAkB,AAClB,qBAAuB,AACvB,cAAgB,CACjB,AACD,+BACE,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,gBAAkB,CACnB,AACD,mCACE,cAAgB,CACjB,AACD,qCACE,gBAAkB,CACnB,AACD,sCACE,eAAmB,CACpB,AACD,oCACE,YAAc,CACf,AACD,iCACE,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,eAAiB,CAClB,AACD,qCACE,cAAgB,CACjB,AACD,uCACE,gBAAkB,CACnB,AACD,wCACE,eAAmB,CACpB,AACD,sCACE,YAAc,CACf",file:"CommonTable.vue",sourcesContent:["\n.mixin-rowI[data-v-7016dbf5] {\n  color: #333;\n}\n.mixin-rowII[data-v-7016dbf5] {\n  color: #888;\n  display: flex;\n  align-items: center;\n}\n.current-row .mixin-rowII[data-v-7016dbf5] {\n  color: #fff;\n}\n.current-row:hover .mixin-rowII[data-v-7016dbf5] {\n  color: #888;\n}\n.top-tip[data-v-7016dbf5] {\n  border: 1px dotted red;\n  padding-left: 2px;\n  padding-right: 2px;\n  line-height: 1.2;\n  display: inline-block;\n  color: red;\n  margin-left: 10px;\n  transform: scale(0.88);\n  font-size: 12px;\n}\n.statusCircle[data-v-7016dbf5] {\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  margin-left: 10px;\n}\n.statusCircle.red[data-v-7016dbf5] {\n  background: red;\n}\n.statusCircle.green[data-v-7016dbf5] {\n  background: green;\n}\n.statusCircle.yellow[data-v-7016dbf5] {\n  background: yellow;\n}\n.statusCircle.none[data-v-7016dbf5] {\n  display: none;\n}\n.statusCircleII[data-v-7016dbf5] {\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  margin-left: 5px;\n}\n.statusCircleII.red[data-v-7016dbf5] {\n  background: red;\n}\n.statusCircleII.green[data-v-7016dbf5] {\n  background: green;\n}\n.statusCircleII.yellow[data-v-7016dbf5] {\n  background: yellow;\n}\n.statusCircleII.none[data-v-7016dbf5] {\n  display: none;\n}\n"],sourceRoot:""}])},798:function(e,t,a){t=e.exports=a(656)(!0),t.push([e.i,".fade-enter-active[data-v-768fdcde],.fade-leave-active[data-v-768fdcde]{transition:opacity .5s}.fade-enter[data-v-768fdcde],.fade-leave-to[data-v-768fdcde]{opacity:0}","",{version:3,sources:["F:/pc_project/erp-aluminium/yunerp/src/components/CommonSearch.vue"],names:[],mappings:"AACA,wEAEE,sBAAwB,CACzB,AACD,6DAEE,SAAW,CACZ",file:"CommonSearch.vue",sourcesContent:["\n.fade-enter-active[data-v-768fdcde],\n.fade-leave-active[data-v-768fdcde] {\n  transition: opacity .5s;\n}\n.fade-enter[data-v-768fdcde],\n.fade-leave-to[data-v-768fdcde] {\n  opacity: 0;\n}\n"],sourceRoot:""}])},799:function(e,t,a){var i=a(797);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(657)("42cac76a",i,!0,{})},800:function(e,t,a){var i=a(798);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(657)("2c11e14a",i,!0,{})},801:function(e,t,a){function i(e){a(800)}var o=a(1)(a(795),a(804),i,"data-v-768fdcde",null);e.exports=o.exports},802:function(e,t,a){function i(e){a(799)}var o=a(1)(a(796),a(803),i,"data-v-7016dbf5",null);e.exports=o.exports},803:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isMulTable?e._e():a("el-table",{directives:[{name:"show",rawName:"v-show",value:!e.isShowStatus.isMore,expression:"!isShowStatus.isMore"}],ref:"simpleTable",staticClass:"main-table",attrs:{height:e.tableHeight||e.mainHeight,"tooltip-effect":"dark",align:e.isCenter?"center":"left",border:"",data:e.tableData,"row-class-name":e.tableRowClassName,"highlight-current-row":"","max-height":.76*e.$store.state.screenHei,"header-cell-style":e.tableHeaderColor},on:{"row-click":e.handleDetail,"selection-change":e.handleSelectionChange}},[(e.otherVariable.isMulSelect||e.isMulSelect)&&e.isNotMulSelect?a("el-table-column",{attrs:{type:"selection",width:"40"}}):e._e(),e._v(" "),e._l(e.propData,function(t,i){return e.isMulCommonTable?e._e():["normal"===t.type&&!t.isMain&&!t.disabledInput||"first"===t.type?a("el-table-column",{attrs:{fixed:t.fixed,align:t.align,label:t.name,width:t.width,sortable:t.sortable,"sort-method":function(a,i){return e.sortAlpha(a,i,t.prop)},"show-overflow-tooltip":!t.isShort},scopedSlots:e._u([{key:"default",fn:function(i){return[a("span",[e._v(e._s(i.row[t.prop]))])]}}])}):e._e(),e._v(" "),"number"!==t.type||t.isMain?e._e():a("el-table-column",{attrs:{label:t.name,align:t.align,width:t.width,sortable:t.sortable,"sort-method":function(a,i){return e.sortAlpha(a,i,t.prop)},"show-overflow-tooltip":!t.isShort},scopedSlots:e._u([{key:"default",fn:function(i){return[a("span",[e._v(e._s(i.row[t.prop]))])]}}])}),e._v(" "),"select"!==t.type||t.disabledInput?e._e():a("el-table-column",{attrs:{label:t.name,align:t.align,width:t.width,sortable:t.sortable,"sort-method":function(a,i){return e.sortAlpha(a,i,t.prop)},"show-overflow-tooltip":!t.isShort},scopedSlots:e._u([{key:"default",fn:function(i){return[a("span",[e._v(e._s(e.showLabel(t.selectList,i.row[t.prop])))])]}}])}),e._v(" "),"mixinNormal"===t.type?a("el-table-column",{attrs:{label:t.name1+t.name2,align:t.align,width:t.width,"show-overflow-tooltip":!t.isShort},scopedSlots:e._u([{key:"default",fn:function(i){return[a("div",{staticClass:"mixin-rowI"},[e._v(" "+e._s(i.row[t.prop1]))]),e._v(" "),a("div",{staticClass:"mixin-rowII"},[e._v(" "+e._s(i.row[t.prop2]))])]}}])}):e._e(),e._v(" "),"mixinVoucher"===t.type?a("el-table-column",{attrs:{label:t.name1+t.name2,align:t.align,width:t.width,"show-overflow-tooltip":!t.isShort},scopedSlots:e._u([{key:"default",fn:function(i){return[a("div",{staticClass:"mixin-rowI"},[e._v(" "+e._s(i.row[t.prop1]))]),e._v(" "),a("div",{staticClass:"mixin-rowII"},[e._v(" "+e._s("0"==i.row[t.prop2]?"未提交":"50"==i.row[t.prop2]?"已提交":"已审核"))])]}}])}):e._e(),e._v(" "),"mixinVouchers"===t.type?a("el-table-column",{attrs:{label:t.name1+t.name2,align:t.align,width:t.width,"show-overflow-tooltip":!t.isShort},scopedSlots:e._u([{key:"default",fn:function(i){return[a("div",{staticClass:"mixin-rowI"},[e._v(" "+e._s(i.row[t.prop1]))]),e._v(" "),a("div",{staticClass:"mixin-rowII"},[e._v(" "+e._s("1"==i.row[t.prop2]?"贷款":"2"==i.row[t.prop2]?"订金":"税金"))])]}}])}):e._e(),e._v(" "),"mixin"===t.type?a("el-table-column",{attrs:{label:t.name1+t.name2,align:t.align,width:t.width,"show-overflow-tooltip":!t.isShort},scopedSlots:e._u([{key:"default",fn:function(i){return[a("div",{staticClass:"mixin-rowI"},[e._v(" "+e._s(i.row[t.prop1]))]),e._v(" "),a("div",{staticClass:"mixin-rowII"},[e._v(" "+e._s("已审核"===i.row[t.prop2]?"待签批":i.row[t.prop2]))])]}}])}):e._e(),e._v(" "),"mixinStatus"===t.type?a("el-table-column",{attrs:{label:t.name1+t.name2,align:t.align,width:t.width,"show-overflow-tooltip":!t.isShort},scopedSlots:e._u([{key:"default",fn:function(i){return[a("div",{staticClass:"mixin-rowI"},[e._v(" "+e._s(i.row[t.prop1]))]),e._v(" "),a("div",{staticClass:"mixin-rowII"},[a("span",[e._v(" "+e._s("已提交"===i.row[t.prop2]?"待提交":"已确认"==i.row[t.prop2]?"已提交":i.row[t.prop2]))]),e._v(" "),t.hasCircleI?a("span",{staticClass:"statusCircle",class:e.setCircle(i.row[t.status])}):e._e(),e._v(" "),t.hasCircleII?a("span",{staticClass:"statusCircleII",class:e.setCircleII(i.row[t.status])}):e._e()])]}}])}):e._e(),e._v(" "),"mixinTop"===t.type?a("el-table-column",{attrs:{label:t.name1+t.name2,align:t.align,width:t.width,"show-overflow-tooltip":!t.isShort},scopedSlots:e._u([{key:"default",fn:function(i){return[a("div",{staticClass:"mixin-rowI"},[e._v(" "+e._s(i.row[t.prop1])),i.row.isTop?a("span",{staticClass:"top-tip",on:{mouseover:function(t){e.toggleTop(!1)},mouseout:function(t){e.toggleTop(!0)},click:e.cancelTop}},[e._v(e._s(e.isShowTop?"置顶":"取消"))]):e._e()]),e._v(" "),a("div",{staticClass:"mixin-rowI"},[e._v(" "+e._s(i.row[t.prop2]))])]}}])}):e._e(),e._v(" "),"modelInput"===t.type?a("el-table-column",{attrs:{label:t.name,align:t.align,width:t.width,align:"center","show-overflow-tooltip":!t.isShort},scopedSlots:e._u([{key:"default",fn:function(i){return[a("div",[e._v(e._s(0===i.row[t.prop]?"×":1===i.row[t.prop]?"√":""))])]}}])}):e._e(),e._v(" "),"voucherInput"===t.type?a("el-table-column",{attrs:{label:t.name,align:t.align,width:t.width,align:"center","show-overflow-tooltip":!t.isShort},scopedSlots:e._u([{key:"default",fn:function(i){return[a("div",[e._v(e._s(100===i.row[t.prop]?"√":""))])]}}])}):e._e(),e._v(" "),"visits"===t.type?a("el-table-column",{attrs:{label:t.name,width:t.width,align:t.align},scopedSlots:e._u([{key:"default",fn:function(i){return[a("div",[e._v(e._s(0===i.row[t.prop]?"待拜访":50===i.row[t.prop]?"拜访中":"已完成"))])]}}])}):e._e(),e._v(" "),"client"===t.type?a("el-table-column",{attrs:{label:t.name,width:t.width,align:t.align},scopedSlots:e._u([{key:"default",fn:function(i){return[a("div",[e._v(e._s("1"===i.row[t.prop]?"普通客户":"2"===i.row[t.prop]?"分销商":"经销商"))])]}}])}):e._e(),e._v(" "),"sell"===t.type?a("el-table-column",{attrs:{label:t.name,width:t.width,align:t.align},scopedSlots:e._u([{key:"default",fn:function(i){return[a("div",[e._v(e._s(1===i.row[t.prop]?"国内":2===i.row[t.prop]?"出口":""))])]}}])}):e._e(),e._v(" "),"doctypes"===t.type?a("el-table-column",{attrs:{label:t.name1+t.name2,width:t.width,align:t.align},scopedSlots:e._u([{key:"default",fn:function(i){return[a("div",{staticClass:"mixin-rowI"},[e._v(" "+e._s(i.row[t.prop1]))]),e._v(" "),a("div",{staticClass:"mixin-rowII"},[e._v(" "+e._s(0==i.row[t.prop2]?"潜在机会":"落实机会"))])]}}])}):e._e(),e._v(" "),"export_list"===t.type?a("el-table-column",{attrs:{label:t.name1+t.name2,width:t.width,align:t.align},scopedSlots:e._u([{key:"default",fn:function(i){return[a("div",{staticClass:"mixin-rowI"},[e._v(" "+e._s(i.row[t.prop1]))]),e._v(" "),a("div",{staticClass:"mixin-rowII"},[e._v(" "+e._s(0==i.row[t.prop2]?"未确定":50==i.row[t.prop2]?"已确定":100==i.row[t.prop2]?"已审核":""))])]}}])}):e._e(),e._v(" "),"is_check_price"===t.type?a("el-table-column",{attrs:{label:t.name1+t.name2,width:t.width,align:t.align},scopedSlots:e._u([{key:"default",fn:function(i){return[a("div",{staticClass:"mixin-rowI"},[e._v(" "+e._s(i.row[t.prop1]))]),e._v(" "),0===i.row[t.prop2]||null===i.row[t.prop2]?a("div",{staticClass:"mixin-rowII"},[e._v("未提交")]):e._e(),e._v(" "),50===i.row[t.prop2]?a("div",{staticClass:"mixin-rowII"},[e._v("已提交")]):e._e(),e._v(" "),100===i.row[t.prop2]?a("div",{staticClass:"mixin-rowII"},[e._v("已审核")]):e._e()]}}])}):e._e(),e._v(" "),"is_load"===t.type?a("el-table-column",{attrs:{label:t.name1+t.name2,width:t.width,align:t.align},scopedSlots:e._u([{key:"default",fn:function(i){return[a("div",{staticClass:"mixin-rowI"},[e._v(" "+e._s(i.row[t.prop1]))]),e._v(" "),e.load_status_list.includes(i.row[t.prop2])?a("div",{staticClass:"mixin-rowII"},[e._v("未提交")]):e._e(),e._v(" "),100===i.row[t.prop2]?a("div",{staticClass:"mixin-rowII"},[e._v("已提交")]):e._e(),e._v(" "),100===i.row[t.prop2]||e.load_status_list.includes(i.row[t.prop2])?e._e():a("div",{staticClass:"mixin-rowII"},[e._v(e._s(i.row.docStatusName))])]}}])}):e._e()]}),e._v(" "),e._l(e.propData,function(t,i){return e.isMulCommonTable?[a("el-table-column",{attrs:{label:t.name+(t.unit?t.unit:""),align:t.align,width:t.width,"show-overflow-tooltip":!t.isShort},scopedSlots:e._u([{key:"default",fn:function(i){return["normal"===t.type?a("div",{attrs:{align:t.align}},[t.rule||t.isCellEdit?e._e():a("span",[e._v(e._s(i.row[t.prop]))]),e._v(" "),"limitLength"===t.rule?a("span",[e._v(e._s(i.row[t.prop]?parseFloat(i.row[t.prop]).toFixed(3):0))]):e._e()]):e._e(),e._v(" "),"select"===t.type?a("div",{attrs:{align:t.align}},[a("span",[e._v(e._s(e.showLabel(t.selectList,i.row[t.prop])))])]):e._e(),e._v(" "),"checkbox"===t.type?a("div",{attrs:{align:t.align}},[a("span",[e._v(e._s("true"===i.row[t.prop]?"✔":"×"))])]):e._e(),e._v(" "),"sell"===t.type?a("div",{attrs:{align:t.align}},[a("span",[e._v(e._s(1===i.row[t.prop]?"国内":2===i.row[t.prop]?"出口":""))])]):e._e()]}}])},[e._l(t.children,function(i){return t.children.length?[a("el-table-column",{attrs:{label:i.name,align:i.align,width:i.width,"show-overflow-tooltip":!i.isShort},scopedSlots:e._u([{key:"default",fn:function(t){return["normal"===i.type?a("span",[e._v(e._s(t.row[i.prop]))]):e._e(),e._v(" "),"checkbox"===i.type?a("span",[e._v(e._s("true"===t.row[i.prop]?"✔":"×"))]):e._e()]}}])},[e._l(i.children,function(t){return i.children.length?[a("el-table-column",{attrs:{prop:t.prop,label:t.name,align:t.align,width:t.width,"show-overflow-tooltip":!t.isShort},scopedSlots:e._u([{key:"default",fn:function(i){return[a("span",[e._v(e._s(i.row[t.prop]))])]}}])})]:e._e()})],2)]:e._e()})],2)]:e._e()}),e._v(" "),e._t("operate-btn")],2),e._v(" "),e.isMulTable?a("el-table",{ref:"multipletable",attrs:{"tooltip-effect":"dark","show-summary":e.isSum,"summary-method":e.getSummaries,border:"",data:e.mulTableData,height:e.tableHeight||.6*e.$store.state.screenHei,"highlight-current-row":"","header-cell-style":e.tableHeaderColor},on:{"row-click":e.handleRowEdit,"row-dblclick":e.handleDblClick,"selection-change":e.handleSelectionChange}},[(e.otherVariable.isMulSelect||e.isMulSelect)&&e.isNotMulSelect?a("el-table-column",{attrs:{type:"selection",width:"40"}}):e._e(),e._v(" "),e._l(e.formPropTable,function(t){return[a("el-table-column",{attrs:{label:t.name+(t.unit?t.unit:""),align:t.align?t.align:"left",width:t.width,"show-overflow-tooltip":!t.isShort,prop:"digit"==t.prop?"digit":"theoryWght"==t.prop?"theoryWght":""},scopedSlots:e._u([{key:"default",fn:function(i){return[i.row.isEditState||t.rule||t.isCellEdit?e._e():a("span",{staticClass:"num-cell-r"},[e._v(e._s(i.row[t.prop]))]),e._v(" "),i.row.isEditState||t.rule||!t.isCellEdit?e._e():a("el-input",{nativeOn:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;e.jumpToCell("down")},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;e.jumpToCell("up")}],keyup:function(a){e.changeCell(t.prop)}},model:{value:i.row[t.prop],callback:function(a){e.$set(i.row,t.prop,a)},expression:"scope.row[item.prop]"}}),e._v(" "),i.row.isEditState||"limitLength"!==t.rule?e._e():a("span",{staticClass:"num-cell-r"},[e._v(e._s(i.row[t.prop]?parseFloat(i.row[t.prop]).toFixed(3):0))]),e._v(" "),i.row.isEditState&&"select"!==t.type?a("el-input",{model:{value:i.row[t.prop],callback:function(a){e.$set(i.row,t.prop,a)},expression:"scope.row[item.prop]"}}):e._e(),e._v(" "),i.row.isEditState||"keepLength"!==t.rule?e._e():a("span",{staticClass:"num-cell-r"},[e._v(e._s(i.row[t.prop]?parseFloat(i.row[t.prop]).toFixed(3):0))]),e._v(" "),i.row.isEditState&&"keepNum"!==t.type?a("el-input",{model:{value:i.row[t.prop],callback:function(a){e.$set(i.row,t.prop,a)},expression:"scope.row[item.prop]"}}):e._e()]}}])},[e._l(t.children,function(i){return t.children.length?[a("el-table-column",{attrs:{label:i.name,align:i.align?i.align:"left",width:i.width,"show-overflow-tooltip":!i.isShort},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isEditState||"normal"!==i.type||"limitLength"===i.rule?e._e():a("span",{class:i.className},[e._v(e._s(t.row[i.prop]))]),e._v(" "),t.row.isEditState||"normal"!==i.type||"limitLength"!==i.rule?e._e():a("span",{staticClass:"num-cell-r"},[e._v(e._s(t.row[i.prop]?parseFloat(t.row[i.prop]).toFixed(3):0))]),e._v(" "),t.row.isEditState&&"normal"===i.type?a("el-input",{model:{value:t.row[i.prop],callback:function(a){e.$set(t.row,i.prop,a)},expression:"scope.row[i.prop]"}}):e._e(),e._v(" "),t.row.isEditState||"checkbox"!==i.type?e._e():a("span",[e._v(e._s("true"===t.row[i.prop]?"✔":"×"))]),e._v(" "),t.row.isEditState&&"checkbox"===i.type?a("el-checkbox",{attrs:{"true-label":"true","false-label":"false"},model:{value:t.row[i.prop],callback:function(a){e.$set(t.row,i.prop,a)},expression:"scope.row[i.prop]"}}):e._e()]}}])},[e._l(i.children,function(t){return i.children.length?[a("el-table-column",{attrs:{label:t.name,align:t.align?t.align:"left",width:t.width,"show-overflow-tooltip":!t.isShort},scopedSlots:e._u([{key:"default",fn:function(i){return[i.row.isEditState?e._e():a("span",[e._v(e._s(i.row[t.prop]))]),e._v(" "),i.row.isEditState&&"select"!==t.type?a("el-input",{model:{value:i.row[t.prop],callback:function(a){e.$set(i.row,t.prop,a)},expression:"scope.row[s.prop]"}}):e._e()]}}])})]:e._e()})],2)]:e._e()})],2)]}),e._v(" "),e._t("operate-btn")],2):e._e()],1)},staticRenderFns:[]}},804:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"common-search-wrap"},[e._l(e.propData,function(t,i){return[t.isMainSearch?a("el-input",{staticClass:"search-input",style:{width:e.inputWidth},attrs:{placeholder:t.placeholder},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}},model:{value:e.searchForm[t.prop],callback:function(a){e.$set(e.searchForm,t.prop,"string"==typeof a?a.trim():a)},expression:"searchForm[item.prop]"}}):e._e()]}),e._v(" "),a("el-button",{staticClass:"search-more",on:{click:e.toggleSearch}},[a("span",[e._v("更多查询")]),e._v(" "),a("i",{staticClass:"el-icon--right",class:e.isShowStatus.isMore?"el-icon-arrow-up":"el-icon-arrow-down"})]),e._v(" "),e._t("search-other-btn")],2),e._v(" "),a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowStatus.isMore,expression:"isShowStatus.isMore"}],staticClass:"common-more-search"},[a("el-form",{class:e.isInLine?"inline-form-add":"",attrs:{model:e.searchForm,"label-width":"120px",inline:e.isInLine},nativeOn:{submit:function(e){e.preventDefault()},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSearch(t):null}}},[e._l(e.propData,function(t,i){return[t.isMainSearch||t.isMain||t.showRemark?e._e():a("el-form-item",{attrs:{label:t.name}},["normal"===t.type?a("el-input",{model:{value:e.searchForm[t.prop],callback:function(a){e.$set(e.searchForm,t.prop,"string"==typeof a?a.trim():a)},expression:"searchForm[item.prop]"}}):e._e(),e._v(" "),"number"===t.type?a("el-input",{model:{value:e.searchForm[t.prop],callback:function(a){e.$set(e.searchForm,t.prop,"string"==typeof a?a.trim():a)},expression:"searchForm[item.prop]"}}):e._e(),e._v(" "),"select"===t.type?a("el-select",{staticStyle:{width:"100%"},model:{value:e.searchForm[t.prop],callback:function(a){e.$set(e.searchForm,t.prop,a)},expression:"searchForm[item.prop]"}},e._l(t.selectList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1):e._e(),e._v(" "),"selectChange"===t.type?a("el-select",{staticStyle:{width:"100%"},on:{change:e.selectChange},model:{value:e.searchForm[t.prop],callback:function(a){e.$set(e.searchForm,t.prop,a)},expression:"searchForm[item.prop]"}},e._l(t.selectList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1):e._e(),e._v(" "),"changeStatus"===t.type?a("el-select",{staticStyle:{width:"100%"},on:{change:e.changeStatus},model:{value:e.searchForm[t.prop],callback:function(a){e.$set(e.searchForm,t.prop,a)},expression:"searchForm[item.prop]"}},e._l(t.selectList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1):e._e(),e._v(" "),"date"===t.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.searchForm[t.prop],callback:function(a){e.$set(e.searchForm,t.prop,a)},expression:"searchForm[item.prop]"}}):e._e(),e._v(" "),"checkbox"==t.type?a("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.searchForm[t.prop],callback:function(a){e.$set(e.searchForm,t.prop,a)},expression:"searchForm[item.prop]"}}):e._e(),e._v(" "),"mixincheckbox"==t.type?[a("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.searchForm[t.prop1],callback:function(a){e.$set(e.searchForm,t.prop1,a)},expression:"searchForm[item.prop1]"}},[e._v(e._s(t.name1))]),e._v(" "),a("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.searchForm[t.prop2],callback:function(a){e.$set(e.searchForm,t.prop2,a)},expression:"searchForm[item.prop2]"}},[e._v(e._s(t.name2))])]:e._e()],2)]}),e._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:" "}},[a("el-button",{on:{click:function(t){e.isShowStatus.isMore=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticClass:"btn-cyan search-btn",on:{click:e.handleSearch}},[e._v("查询")])],1)],2)],1)])],1)},staticRenderFns:[]}},805:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{pageObj:{type:Object}},data:function(){return{}},methods:{handleSize:function(e){this.pageObj.commonSize=e,this.$emit("getData")},handleCurrent:function(e){this.pageObj.commonPage=e,this.$emit("getData")}}}},806:function(e,t,a){var i=a(1)(a(805),a(807),null,null,null);e.exports=i.exports},807:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-pagination",{staticClass:"common-pagination",attrs:{"pager-count":5,"current-page":e.pageObj.commonPage,"page-size":e.pageObj.commonSize,"page-sizes":e.pageObj.commonSizes,layout:"total, sizes, prev, pager, next",total:e.pageObj.commonTotal},on:{"size-change":e.handleSize,"current-change":e.handleCurrent}})},staticRenderFns:[]}},814:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{otherVariable:{type:Object},propData:{type:Array},addForm:{type:Object},addRules:{type:Object},headHeight:{type:String,default:"120px"},marginTop:{type:String,default:"10px"}},data:function(){return{}},methods:{handleCancel:function(e){var t=this;this.$confirm("此操作将清空已填写的数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e?t.$emit("handleCancel","edit"):t.$emit("handleCancel","add"),t.otherVariable.isNotValidate||t.$refs.detailForm.resetFields()}).catch(function(){console.log("cnacel")})},handleSave:function(e){var t=this;this.otherVariable.isNotValidate?this.otherVariable.isSaving?this.$message({message:"正在保存中，请稍后再操作",type:"warning"}):e?this.$emit("handleSave","edit"):this.$emit("handleSave","add"):this.$refs.detailForm.validate(function(a){if(!a)return console.log("error submit!!"),!1;t.otherVariable.isSaving?t.$message({message:"正在保存中，请稍后再操作",type:"warning"}):e?t.$emit("handleSave","edit"):t.$emit("handleSave","add")})},selectChange:function(e,t,a,i,o){"colorType"===t&&this.$emit("selectChange",e,t,a,i,o)}}}},815:function(e,t,a){t=e.exports=a(656)(!0),t.push([e.i,".banClick{cursor:not-allowed!important}","",{version:3,sources:["F:/pc_project/erp-aluminium/yunerp/src/components/CommonAdd.vue"],names:[],mappings:"AACA,UACI,4BAA8B,CACjC",file:"CommonAdd.vue",sourcesContent:["\n.banClick {\n    cursor: not-allowed!important;\n}\n"],sourceRoot:""}])},816:function(e,t,a){var i=a(815);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(657)("7f3cb628",i,!0,{})},817:function(e,t,a){function i(e){a(816)}var o=a(1)(a(814),a(818),i,null,null);e.exports=o.exports},818:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-right-wrap right-wrap-add",class:e.otherVariable.isInlineForm?"inline-form-add":""},[e._t("header",[a("div",{staticStyle:{width:"100%",background:"#f5f5f5"}},[e._v(" ")])]),e._v(" "),a("div",{staticClass:"common-right-content"},[a("div",{staticClass:"content-head",style:{height:e.headHeight}},[e._t("head-form-title"),e._v(" "),a("i",{staticClass:"icon-cancel",class:e.otherVariable.isSaving?"banClick":"",on:{click:function(t){e.handleCancel(e.otherVariable.isEdit)}}}),e._v(" "),a("i",{staticClass:"icon-confirm",class:e.otherVariable.isSaving?"banClick":"",on:{click:function(t){e.handleSave(e.otherVariable.isEdit)}}})],2),e._v(" "),a("div",{staticClass:"content-detail"},[a("div",{staticClass:"content-read-form",style:{"margin-top":e.marginTop}},[a("el-form",{ref:"detailForm",attrs:{rules:e.addRules,model:e.addForm,inline:e.otherVariable.isInlineForm}},[e._l(e.propData,function(t,i){return e.otherVariable.$isCustom?e._e():[t.isMain||t.disabledcolor?e._e():a("el-form-item",{style:{float:t.labelPosition,clear:t.both},attrs:{label:t.name,prop:t.prop,"label-width":t.labelwidth?t.labelwidth:"120px"}},["normal"===t.type?a("el-input",{model:{value:e.addForm[t.prop],callback:function(a){e.$set(e.addForm,t.prop,"string"==typeof a?a.trim():a)},expression:"addForm[item.prop]"}}):e._e(),e._v(" "),"number"===t.type?a("el-input",{model:{value:e.addForm[t.prop],callback:function(a){e.$set(e.addForm,t.prop,"string"==typeof a?a.trim():a)},expression:"addForm[item.prop]"}}):e._e(),e._v(" "),"checkbox"===t.type?a("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.addForm[t.prop],callback:function(a){e.$set(e.addForm,t.prop,a)},expression:"addForm[item.prop]"}},[e._v(e._s(e.addForm[t.name]))]):e._e(),e._v(" "),"select"===t.type?a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.addForm[t.prop],callback:function(a){e.$set(e.addForm,t.prop,a)},expression:"addForm[item.prop]"}},e._l(t.selectList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1):e._e(),e._v(" "),"selectChange"===t.type?a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:""},on:{change:function(a){e.selectChange(a,t.selectParam,t.selectList,t.paramList,t.reflectList)}},model:{value:e.addForm[t.prop],callback:function(a){e.$set(e.addForm,t.prop,a)},expression:"addForm[item.prop]"}},e._l(t.selectList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1):e._e(),e._v(" "),"selectData"===t.type?a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.addForm[t.prop],callback:function(a){e.$set(e.addForm,t.prop,a)},expression:"addForm[item.prop]"}},e._l(t.selectDataList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1):e._e(),e._v(" "),"textarea"===t.type?a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:e.addForm[t.prop],callback:function(a){e.$set(e.addForm,t.prop,"string"==typeof a?a.trim():a)},expression:"addForm[item.prop]"}}):e._e(),e._v(" "),"date"===t.type?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.addForm[t.prop],callback:function(a){e.$set(e.addForm,t.prop,a)},expression:"addForm[item.prop]"}}):e._e()],1)]})],2),e._v(" "),e.otherVariable.$isCustom?e._t("custom-add-form"):e._e()],2)])])],2)},staticRenderFns:[]}},830:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{isShowStatus:{type:Object},otherVariable:{type:Object},propData:{type:Array},detailForm:{type:Object},hasSimpleHead:{type:Boolean,default:!1},headHeight:{type:String,default:"120px"},marginTop:{type:String,default:"10px"}},data:function(){return{isSpread:!1}},mounted:function(){this.otherVariable.contentHead=this.$refs.contentHead.offsetHeight},methods:{toggleSpread:function(){this.$emit("toggleSpread"),this.isSpread=this.otherVariable.isSpread},handleEdit:function(){this.$emit("handleEdit")},handleDelete:function(){this.$emit("handleDelete")},selectChange:function(e,t){this.$emit("selectChange",e,t)}}}},834:function(e,t,a){var i=a(1)(a(830),a(836),null,null,null);e.exports=i.exports},836:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-right-wrap"},[e._t("header",[e._v(" ")]),e._v(" "),a("div",{staticClass:"common-right-content"},[e.otherVariable.isHeadComplex?e._e():a("div",{staticClass:"content-head",style:{height:e.headHeight}},[a("span",[e._v(e._s(e.otherVariable.detailTitle))]),e._v(" "),e._t("main-btn-wrap")],2),e._v(" "),e.otherVariable.isHeadComplex?a("div",{ref:"contentHead",staticClass:"content-head-x",class:e.hasSimpleHead?"content-head-simple":""},[e._t("head-form-title"),e._v(" "),e._t("head-form-content"),e._v(" "),e._t("main-btn-wrap")],2):e._e(),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!e.isSpread,expression:"!isSpread"}],staticClass:"icon-spread",on:{click:e.toggleSpread}}),e._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:e.isSpread,expression:"isSpread"}],staticClass:"icon-retract",on:{click:e.toggleSpread}}),e._v(" "),e._t("model-input"),e._v(" "),a("div",{staticClass:"content-detail"},[e.otherVariable.isFormComplex?e._e():a("div",{staticClass:"content-read-form",style:{"margin-top":e.marginTop}},[a("el-form",{attrs:{model:e.detailForm,"label-width":"120px",inline:e.otherVariable.isInlineForm}},[e._l(e.propData,function(t,i){return["title"===t.type?a("div",{staticClass:"inline-form-title",style:{width:t.width||"80px"}},[e._v(e._s(t.name))]):e._e(),e._v(" "),t.isMain?e._e():a("el-form-item",{class:t.isLong?"full-remark":"",attrs:{label:t.name}},["normal"===t.type?a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm[t.prop],callback:function(a){e.$set(e.detailForm,t.prop,"string"==typeof a?a.trim():a)},expression:"detailForm[item.prop]"}}):e._e(),e._v(" "),"select"===t.type?a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0},model:{value:e.detailForm[t.prop],callback:function(a){e.$set(e.detailForm,t.prop,a)},expression:"detailForm[item.prop]"}},e._l(t.selectList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1):e._e(),e._v(" "),"selectChange"===t.type?a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.isShowStatus.isRead||t.isRead},on:{change:function(a){e.selectChange(a,t.selectParam)}},model:{value:e.detailForm[t.prop],callback:function(a){e.$set(e.detailForm,t.prop,a)},expression:"detailForm[item.prop]"}},e._l(t.selectList,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1):e._e(),e._v(" "),"date"===t.type?a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm[t.prop],callback:function(a){e.$set(e.detailForm,t.prop,"string"==typeof a?a.trim():a)},expression:"detailForm[item.prop]"}}):e._e()],1)]})],2)],1),e._v(" "),e.otherVariable.isFormComplex?a("div",{staticClass:"content-read-form-x",style:{"margin-top":e.marginTop}},[e._t("common-content")],2):e._e()])],2)],2)},staticRenderFns:[]}},849:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){t.default={data:function(){return{isEnter:!1}},props:{},methods:{selectEnterEvent:function(){var e=this;++this.enterTimes>=2&&this.isBanNextFocus&&this.$nextTick(function(){e.nextFocus()})},remoteEnterEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];if(this.isEnter=!0,++this.enterTimes>=2)switch(t){case"matCode":this.setMatCode(e);break;case"cx1Name":this.setColorCode(e);break;case"cx2Name":this.setMatAlloy(e);break;case"cx3Name":this.setMatThick(e);break;case"usrTxt2Name":this._setUsrTxt2()}},tabEvent:function(e,t){switch(t){case"matCode":this.setMatCode(this.firstMatCode);break;case"cx1Name":this.setColorCode(this.firstColorName);break;case"cx2Name":this.setMatAlloy(this.firstMatAlloy);break;case"cx3Name":this.setMatThick(this.firstMatThick)}},blurEvent:function(e,t){},handleCtrlV:function(e,t){var a=this;this.$nextTick(function(){var i=e.target.value;switch(t){case"matCode":a.getMatCodeList(i,i,null,1);break;case"cx1Name":a.getColorCodeList(i,i,null,1);break;case"cx2Name":a.getMatAlloy(i,i,null,1);break;case"cx3Name":a.getMatThick(i,i,null,1)}})},banNextFocus:function(e){this.isBanNextFocus=e},setFocus:function(e){this.isEnter=!1,this.currentIndex=e},nextFocus:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"该项";if(!t||!!i){var s=this.$el.querySelectorAll("[data-index]");if(s.length>this.currentIndex){var l=s.item(++this.currentIndex);null!==l&&this.$nextTick(function(){a.autoFocus(l)})}else console.log("reset this.currentIndex")}else this.$message({message:o+"不能为空",type:"warning"})},autoFocus:function(e){var t=e;-1===["INPUT","TEXTAREA"].indexOf(e.tagName.toUpperCase())&&(t=e.querySelector("input,textarea")),t&&t.focus()},goUp:function(e){this.handleSaveChild(e,"up")},goDown:function(e){this.tabDataI[this.editIndex].variantId&&this.handleSaveChild(e,"down")},goTemp:function(t,a){"down"===a?(this.editIndex+=1,this.editIndex<this.tabDataI.length?(this.tabDataI[this.editIndex-1].isEditState=!1,this.tabDataI[this.editIndex].isEditState=!0,this.$refs.childTable.setCurrentRow(this.tabDataI[this.editIndex]),this.clickDetail(this.tabDataI[this.editIndex]),this.$nextTick(function(){e(".el-table__body-wrapper .el-input__inner")[t].focus()})):(this.editIndex=this.tabDataI.length-1,this.otherVariable.isChildEdit=!1)):"up"===a?(this.editIndex-=1,this.editIndex<0?(this.editIndex=0,this.isAddDetail?this.handleAddChild():this.handleCancelChild()):(this.tabDataI[this.editIndex+1].isEditState=!1,this.tabDataI[this.editIndex].isEditState=!0,this.clickDetail(this.tabDataI[this.editIndex]),this.$refs.childTable.setCurrentRow(this.tabDataI[this.editIndex]),this.$nextTick(function(){e(".el-table__body-wrapper .el-input__inner")[t].focus()}))):"first"===a&&(this.editIndex=0,this.isAddDetail?this.handleAddChild():this.handleCancelChild())},handleLastCell:function(e){13===e.keyCode&&this.handleSaveChild(0,"first"),9!==e.keyCode||e.shiftKey||(e.returnValue=!1,this.handleSaveChild(0,"first"))},listenScroll:function(){var e=this,t=this.$refs.childTable.$el.querySelector(".el-table__body-wrapper");t.addEventListener("scroll",function(){e.scrollHeight=t.scrollTop})},changeSize:function(){var e=this;this.isResize=!1,this.tableHeight=window.innerHeight-this.$refs.headForm.offsetHeight-this.otherVariable.contentHead-154,this.mainHeight=window.innerHeight-214,this.$nextTick(function(){e.isResize=!0})},listenResize:function(){var e=this;window.onresize=function(){e.changeSize()}},changeSizeII:function(){var e=this;this.isResize=!1,this.formHeight=window.innerHeight-this.$refs.headForm.offsetHeight-this.otherVariable.contentHead-154,this.tableHeight=window.innerHeight-this.$refs.headForm.offsetHeight-this.otherVariable.contentHead-154,this.mainHeight=window.innerHeight-214,this.$nextTick(function(){e.isResize=!0})},listenResizeII:function(){var e=this;window.onresize=function(){e.changeSizeII()}},changeSizeIII:function(){var e=this;this.isResize=!1,this.showTable?this.tableHeightI=window.innerHeight-this.$refs.headForm.offsetHeight-this.otherVariable.contentHead-304:this.tableHeightI=window.innerHeight-this.$refs.headForm.offsetHeight-this.otherVariable.contentHead-154,this.mainHeight=window.innerHeight-214,this.$nextTick(function(){e.isResize=!0})},listenResizeIII:function(){var e=this;window.onresize=function(){e.changeSizeIII()}},toggleSpread:function(){this.otherVariable.isSpread=!this.otherVariable.isSpread,this.otherVariable.isSpread?this.otherVariable.contentWidth=100:this.otherVariable.contentWidth=this.tempWidth},notShowTip:function(e){e?(localStorage.setItem("isShowDetailBan",!0),this.$store.state.isShowDetailBan=!0):(localStorage.setItem("isShowDetailBan",!1),this.$store.state.isShowDetailBan=!1)}}}}.call(t,a(85))},850:function(e,t,a){var i=a(1)(a(849),null,null,null,null);e.exports=i.exports},861:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var i=a(37),o=a.n(i);t.default={data:function(){return{inputX:0,_inputX:0,inputY:0,isTopStart:!1,inputItem:{},hoverIndex:0,selectIndex:-1,enterCount:0,status:{isShow:!1},inputValueData:"",oldValue:"",isChoose:!1,scrollLeft:0}},props:{version:{type:String,default:"v2"},inputValue:{type:String,default:""},inputWidth:{type:String,default:""},selectTHs:{type:Array,default:function(){return[]}},selectTds:{type:Array,default:function(){return[]}},selectLabel:{type:String},selectValue:{type:String},selectKey:{type:String},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1}},watch:{"status.isShow":function(e){var t=document.getElementsByTagName("input");e?document.querySelector("body").addEventListener("click",this.initStatus):(o()(t).forEach(function(e,t){"selected"===e.getAttribute("zl-type")&&e.setAttribute("zl-type","select")}),document.querySelector("body").removeEventListener("click",this.initStatus))},inputValue:{handler:function(e,t){this.inputValueData=e},immediate:!0},inputValueData:{handler:function(e,t){e&&(this.isChoose||this.$emit("setVal",e))}}},mounted:function(){},methods:{handleScroll:function(){var e=this,t=document.querySelector(".childtable").querySelector(".el-table__body-wrapper");t.addEventListener("scroll",function(){e.scrollLeft=t.scrollLeft})},initStatus:function(){this.status.isShow=!1,this.enterCount=0},enterSearchList:function(e){this.enterSearchListV2(e)},enterSearchListV2:function(e){var t=this;this.status.isShow=!0,this.inputValueData?this.$nextTick(function(){t.selectTds.filter(function(e,a){t.inputItem==e&&(t.selectIndex=a)})}):this.selectIndex=-1,this.oldValue===this.inputValueData&&this.enterCount?1===this.enterCount&&(this.inputValueData=this.selectTds[this.hoverIndex]?this.selectTds[this.hoverIndex][this.selectLabel]:null,this.inputItem=this.selectTds[this.hoverIndex]?this.selectTds[this.hoverIndex]:{},this.clickItem(this.hoverIndex),this.inputValueData&&e.getElementsByTagName("input")[0].setAttribute("zl-type","selected"),this.$nextTick(function(){t.$emit("selected",t)})):(this.oldValue=this.inputValueData,this.enterCount=1,this.$emit("getList",this.inputValueData))},inputFocus:function(t,a){this.inputX=e(a).offset().left,this._inputX=e(a).offset().left,this.$store.state.screenHei-e(a).offset().top<280?(this.inputY=e(a).offset().top-274,this.isTopStart=!0):(this.inputY=e(a).offset().top+24,this.isTopStart=!1),this.$emit("inputFocus",t)},enterShift:function(){this.initStatus()},clickItem:function(e){this.inputValueData=this.selectTds[e]?this.selectTds[e][this.selectLabel]:null,this.inputItem=this.selectTds[e]?this.selectTds[e]:{},this.initStatus(),this.isChoose=!0,this.$emit("setObj",this.inputItem),this.hoverIndex=0},selectDown:function(){this.status.isShow?this.hoverIndex<this.selectTds.length-1?this.hoverIndex+=1:this.hoverIndex=this.selectTds.length-1:this.$emit("goDown")},selectUp:function(){this.status.isShow?this.hoverIndex>0?this.hoverIndex-=1:this.hoverIndex=0:this.$emit("goUp")}}}}.call(t,a(85))},862:function(e,t,a){var i=a(658);t=e.exports=a(656)(!0),t.push([e.i,".select-th[data-v-1175ea0e]{display:inline-flex;text-align:center;font-weight:700;height:34px;line-height:34px;width:100%;padding:0 20px;color:#000}.select-th span[data-v-1175ea0e]{flex:3;min-width:50px}.select-th span[data-v-1175ea0e]:first-child{flex:1}.select-td[data-v-1175ea0e]{display:inline-flex;text-align:center;flex:3;min-width:50px;color:#000}.select-td[data-v-1175ea0e]:first-child{flex:2;color:gray}.select-li[data-v-1175ea0e]{width:100%}.select-li .select-td[data-v-1175ea0e]{float:left}.select-li[data-v-1175ea0e]:hover{background:#cfe8dc!important}.select-li:hover .select-td[data-v-1175ea0e]{color:#fff}.select-li:hover .select-td[data-v-1175ea0e]:first-child{float:left;color:#fff}.hover .select-td[data-v-1175ea0e],.hover .select-td[data-v-1175ea0e]:first-child{color:#fff}.select-enter-icon[data-v-1175ea0e]{cursor:default;position:absolute;top:8px;right:0;width:16px;height:100%;background:url("+i(a(864))+") no-repeat}.not-click[data-v-1175ea0e]{cursor:not-allowed}._el-scrollbar__wrap[data-v-1175ea0e]{overflow-y:auto;overflow-x:hidden}","",{version:3,sources:["F:/pc_project/erp-aluminium/yunerp/src/components/SelectEnter.vue"],names:[],mappings:"AACA,4BACE,oBAAqB,AACrB,kBAAmB,AACnB,gBAAkB,AAClB,YAAa,AACb,iBAAkB,AAClB,WAAY,AACZ,eAAgB,AAChB,UAAa,CACd,AACD,iCACE,OAAQ,AACR,cAAgB,CACjB,AACD,6CACE,MAAQ,CACT,AACD,4BACE,oBAAqB,AACrB,kBAAmB,AACnB,OAAQ,AACR,eAAgB,AAChB,UAAY,CACb,AACD,wCACE,OAAQ,AACR,UAAY,CACb,AACD,4BACE,UAAY,CACb,AACD,uCACE,UAAY,CACb,AACD,kCACE,4BAA+B,CAChC,AACD,6CACE,UAAY,CACb,AACD,yDACE,WAAY,AACZ,UAAY,CACb,AAID,kFACE,UAAY,CACb,AACD,oCACE,eAAgB,AAChB,kBAAmB,AACnB,QAAS,AACT,QAAS,AACT,WAAY,AACZ,YAAa,AACb,kDAAwD,CACzD,AACD,4BACE,kBAAoB,CACrB,AACD,sCACE,gBAAiB,AACjB,iBAAmB,CACpB",file:"SelectEnter.vue",sourcesContent:["\n.select-th[data-v-1175ea0e] {\n  display: inline-flex;\n  text-align: center;\n  font-weight: bold;\n  height: 34px;\n  line-height: 34px;\n  width: 100%;\n  padding: 0 20px;\n  color: black;\n}\n.select-th span[data-v-1175ea0e] {\n  flex: 3;\n  min-width: 50px;\n}\n.select-th span[data-v-1175ea0e]:first-child {\n  flex: 1;\n}\n.select-td[data-v-1175ea0e] {\n  display: inline-flex;\n  text-align: center;\n  flex: 3;\n  min-width: 50px;\n  color: #000;\n}\n.select-td[data-v-1175ea0e]:first-child {\n  flex: 2;\n  color: gray;\n}\n.select-li[data-v-1175ea0e] {\n  width: 100%;\n}\n.select-li .select-td[data-v-1175ea0e] {\n  float: left;\n}\n.select-li[data-v-1175ea0e]:hover {\n  background: #CFE8DC !important;\n}\n.select-li:hover .select-td[data-v-1175ea0e] {\n  color: #fff;\n}\n.select-li:hover .select-td[data-v-1175ea0e]:first-child {\n  float: left;\n  color: #fff;\n}\n.hover .select-td[data-v-1175ea0e] {\n  color: #fff;\n}\n.hover .select-td[data-v-1175ea0e]:first-child {\n  color: #fff;\n}\n.select-enter-icon[data-v-1175ea0e] {\n  cursor: default;\n  position: absolute;\n  top: 8px;\n  right: 0;\n  width: 16px;\n  height: 100%;\n  background: url('../assets/images/enter.png') no-repeat;\n}\n.not-click[data-v-1175ea0e] {\n  cursor: not-allowed;\n}\n._el-scrollbar__wrap[data-v-1175ea0e] {\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n"],sourceRoot:""}])},863:function(e,t,a){var i=a(862);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(657)("3f1d4d22",i,!0,{})},864:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA9UlEQVQ4T72TvUoDQRSFz2V/YENeYVmWmbt9GiERn8BGsLXWwjaVEWx8J618gUAeYO6tLEQQtPABrkwhhN3Nmk3AaYYp7sc595whHHnoyHn8D0BENgBmUa2ZvSVJcuGcW8f3aAWqujKzCTOvBgGqek1Ez8651+09icgdgCkzx7tfQQjhEcBlURSnZVl+jgKo6tLMbgAsmPmjndKgAhG5NbNllmXzuq7f+yIWkQczy5qmue9YCCF8E9H0j24YEZ177586gH0UtOGdGH93kKbp2S4b25DeHkSfAK7yPD+pqupryNLOIsUeAHjx3utBgH0/2egqt8E/gOZdEfuZl/8AAAAASUVORK5CYII="},865:function(e,t,a){function i(e){a(863)}var o=a(1)(a(861),a(866),i,"data-v-1175ea0e",null);e.exports=o.exports},866:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-input el-input--small",style:{width:e.inputWidth}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.inputValueData,expression:"inputValueData",modifiers:{trim:!0}}],staticClass:"el-input__inner",class:e.disabled?"not-click":"",attrs:{disabled:e.disabled,placeholder:e.placeholder,"zl-type":"select"},domProps:{value:e.inputValueData},on:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.enterSearchList(e.$el)},function(t){return t.shiftKey?t.ctrlKey||t.altKey||t.metaKey?null:e.enterShift(t):null},function(t){return"button"in t||!e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?e.selectDown(t):null},function(t){return"button"in t||!e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?e.selectUp(t):null}],focus:function(t){e.inputFocus(t,e.$el)},input:function(t){t.target.composing||(e.inputValueData=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),e._m(0),e._v(" "),e.status.isShow?a("div",{staticClass:"el-select-dropdown el-popper select-list",style:{position:"fixed",left:e.inputX+"px",top:e.inputY+"px"},attrs:{"x-placement":e.isTopStart?"top-start":"bottom-start"}},[a("div",{staticClass:"el-scrollbar"},[a("div",{staticClass:"el-select-dropdown__wrap el-scrollbar__wrap _el-scrollbar__wrap"},[a("ul",{staticClass:"el-scrollbar__view el-select-dropdown__list"},[e.selectTHs.length?a("div",{staticClass:"select-th"},e._l(e.selectTHs,function(t){return a("span",[e._v(" "+e._s(t.label))])}),0):e._e(),e._v(" "),e._l(e.selectTds,function(t,i){return a("li",{staticClass:"el-select-dropdown__item select-li",class:[e.hoverIndex===i?"hover":"",e.selectIndex===i?"selected":""],on:{click:function(t){e.clickItem(i)}}},[e._l(e.selectTHs,function(i){return e.selectTHs.length?a("div",{staticClass:"select-td"},[a("span",[e._v(" "+e._s(t[i.prop])+" ")])]):e._e()}),e._v(" "),e.selectTHs.length?e._e():a("div",{staticClass:"select-td"},[a("span",[e._v(" "+e._s(t[e.selectLabel]))])])],2)})],2)]),e._v(" "),e._m(1),e._v(" "),e._m(2)]),e._v(" "),a("div",{staticClass:"popper__arrow",staticStyle:{left:"35px"},attrs:{"x-arrow":""}})]):e._e()])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"el-input__suffix"},[a("span",{staticClass:"el-input__suffix-inner"},[a("i",{staticClass:"el-input__icon select-enter-icon"})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-scrollbar__bar is-horizontal"},[a("div",{staticClass:"el-scrollbar__thumb",staticStyle:{transform:"translateX(0%)"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-scrollbar__bar is-vertical"},[a("div",{staticClass:"el-scrollbar__thumb",staticStyle:{transform:"translateY(0%)"}})])}]}},867:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{valueObj:{type:Object}},data:function(){return{}},methods:{getMarkMethod:function(e){var t=this;this.valueObj.markMethodList=[],this.fetch("/oms/BasedataController/getMdmMarkMethod",{fname:e}).then(function(e){e.data&&e.data.list&&(t.valueObj.markMethodList=e.data.list)})},getMdmPackMethod:function(e){var t=this;this.valueObj.mdmPackList=[],this.fetch("/oms/BasedataController/getMdmPackMethod?pageSize=100",{fcode:e}).then(function(e){e.data&&e.data.list&&(t.valueObj.mdmPackList=e.data.list)})},getProject:function(e){var t=this;e||(e=""),this.valueObj.projectList=[],this.getAjax("/oms/sls/SalesOrderMaster/getProject?pageSize=100&projectName="+e).then(function(e){e.data&&e.data.list&&(t.valueObj.projectList=e.data.list)})},getClientProject:function(e){var t=this;this.valueObj.projectList=[],this.getAjax("/oms/sls/SalesClientOrder/getProject?pageSize=100&projectName="+e).then(function(e){e.data&&e.data.list&&(t.valueObj.projectList=e.data.list)})},getContract:function(e){var t=this;this.valueObj.contractList=[],this.getAjax("/oms/sls/SalesOrderMaster/getConcat?pageSize=100&contractCode="+e).then(function(e){e.data&&e.data.list&&(t.valueObj.contractList=e.data.list)})},getClientContract:function(e){var t=this;this.valueObj.contractList=[],this.getAjax("/oms/sls/SalesClientOrder/getConcat?pageSize=100&contractCode="+e).then(function(e){e.data&&e.data.list&&(t.valueObj.contractList=e.data.list)})},getClient:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fcode";this.valueObj.clientList=[];var i={parentId:this.valueObj.clientParentId,inactive:0};i[a]=e,this.fetch("/oms/BasedataController/getOrgClientCompany?pageSize=100",i).then(function(e){e.data&&e.data.list&&(t.valueObj.clientList=e.data.list)})},getOrderClient:function(e){var t=this;this.valueObj.clientList=[],this.fetch("/oms/BasedataController/getOrgClientCompanyWithRouter?pageSize=10",{fcode:e,parentId:this.valueObj.clientParentId,filter:!0}).then(function(e){e.data&&e.data.list&&(t.valueObj.clientList=e.data.list)})},getproceeds:function(e){var t=this;this.valueObj.clientList=[],this.fetch("/oms/BasedataController/getOrgClientCompany?pageSize=100",{fcode:e,parentId:this.valueObj.clientParentId,filter:!0}).then(function(e){e.data&&e.data.list&&(t.valueObj.clientList=e.data.list)})},getOrgClient:function(e){var t=this;this.valueObj.orgClientList=[],this.fetch("/oms/BasedataController/getOrgClientCompany?pageSize=100",{fcode:e}).then(function(e){e.data&&e.data.list&&(t.valueObj.orgClientList=e.data.list)})},getClientVist:function(e){var t=this;this.valueObj.vistList=[],this.fetch("/crm/Crm/VisitTaskInfo/getClientCompanyList?pageSize=100",{cltcompanyname:e}).then(function(e){e.data&&e.data.list&&(t.valueObj.vistList=e.data.list)})},getPriceClient:function(e){var t=this;this.valueObj.priceClientList=[],this.fetch("/oms/sls/OfferPrice/getClientCompany?pageSize=10",{cltcompanyname:e}).then(function(e){e.data&&e.data.list&&(t.valueObj.priceClientList=e.data.list)})},getDistributor:function(e){var t=this;this.valueObj.distributors=[],this.fetch("/oms/BasedataController/getDistributor?pageSize=10",{fcode:e}).then(function(e){e.data&&e.data.list&&(t.valueObj.distributors=e.data.list)})},getDistributorByFid:function(e){var t=this;this.valueObj.distributors=[],this.fetch("/oms/BasedataController/getDistributor?pageSize=100",{fid:e}).then(function(e){e.data&&e.data.list&&(t.valueObj.distributors=e.data.list,t.$emit("setDistributorByClient",e.data.list[0]))})},getMatAlloy:function(){var e=this;this.valueObj.matAlloyList=[],this.fetch("/oms/BasedataController/getMatAlloy?pageSize=100",{}).then(function(t){t.data&&t.data.list&&(e.valueObj.matAlloyList=t.data.list)})},getMatGroupCode:function(e){var t=this;this.fetch("/oms/BasedataController/getAlGroupList?pageSize=100",{fcode:e}).then(function(e){if(e.data&&e.data.list){var a=t.formatArray(e.data.list,"fname","fcode");t.valueObj.matGroupCodeList=a}})},getInjectionFlag:function(e){var t=this;this.valueObj.injectionFlagList=[],this.fetch("/oms/BasedataController/getPvcBrandListByValue?injectionFlag=1&value="+e).then(function(e){e.data&&e.data.list&&(t.valueObj.injectionFlagList=e.data.list)})},getStripFlag:function(e){var t=this;this.valueObj.stripFlagList=[],this.fetch("/oms/BasedataController/getPvcBrandListByValue?stripFlag=1&value="+e).then(function(e){e.data&&e.data.list&&(t.valueObj.stripFlagList=e.data.list)})}}}},870:function(e,t,a){var i=a(1)(a(867),a(871),null,null,null);e.exports=i.exports},871:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div")},staticRenderFns:[]}}});
//# sourceMappingURL=15.443251ec5650514cef30.js.map