webpackJsonp([132],{1259:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{tempContent:"",vueContent:"",rowParams:[{ftype:"normal",fname:"字段名称",fcode:"name"},{ftype:"normal",fname:"字段代码",fcode:"prop"},{ftype:"typeselect",fname:"类型",fcode:"type"},{ftype:"select",fname:"主查询",fcode:"isMainSearch"},{ftype:"select",fname:"主键",fcode:"isMain"},{ftype:"normal",fname:"提示",fcode:"placeholder"},{ftype:"normal",fname:"宽度",fcode:"width"},{ftype:"select",fname:"是否排序",fcode:"sortable"}],selectType:[{label:"normal",value:"normal"},{label:"select",value:"select"}],rowForm:{},copyList:[],codeForm:{moduleName:"",getUrl:"",addUrl:"",updateUrl:"",deleteUrl:"",contentWidth:"",isMulSelect:!1,fieldList:[{name:"fid",prop:"fid",type:"normal",isMainSearch:!1,isMain:!0,placeholder:"",width:"",sortable:!1,_curdFlag:"c"},{name:"代码",prop:"fcode",type:"normal",isMainSearch:!0,isMain:!1,placeholder:"",width:"",sortable:!0,_curdFlag:"c"},{name:"名称",prop:"fname",type:"normal",isMainSearch:!1,isMain:!1,placeholder:"",width:"",sortable:!0,_curdFlag:"c"},{name:"状态",prop:"dataState",type:"select",isMainSearch:!1,isMain:!1,placeholder:"",width:"",sortable:!1,_curdFlag:"c"},{name:"备注",prop:"remark",type:"normal",isMainSearch:!1,isMain:!1,placeholder:"",width:"",sortable:!1,_curdFlag:"c"}]}}},mounted:function(){this.copyList=this.$lodash.cloneDeep(this.codeForm.fieldList)},methods:{init:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.vueContent="";var t=[];e?(this.codeForm={},this.codeForm.fieldList=this.copyList):(this.codeForm.fieldList.forEach(function(e){var o={};o="\n                            {\n                                'name':'"+e.name+"',\n                                'prop':'"+e.prop+"',\n                                'type':'"+e.type+"',\n                                'isMainSearch':"+e.isMainSearch+",\n                                'isMain':"+e.isMain+",\n                                'selectList': this.getStaticList('whetherUse'),\n                                'placeholder':'"+e.placeholder+"',\n                                'width':'"+e.width+"',\n                                'sortable':"+e.sortable+"\n                            }",t.push(o)}),this.codeForm.fieldList=t);var o="\n    const pageName = '"+this.codeForm.moduleName+"';\n    import CommonPage from '$src/components/CommonPage'\n    export default {\n        components: {\n            CommonPage\n        },\n        data() {\n            return {\n                otherVariable: {\n                    contentWidth: "+this.codeForm.contentWidth+",\n                    detailTitle: `查看${pageName}`,\n                    addTitle: `新建${pageName}`,\n                    isMulSelect: "+this.codeForm.isMulSelect+"\n                },\n                ajaxConfig: {\n                    dataObj: {\n                        url: '/basedata"+this.codeForm.getUrl+"',\n                        method: 'fetch'\n                    },\n                    addObj: {\n                        url: '/basedata"+this.codeForm.addUrl+"',\n                        method: 'fetch'\n                    },\n                    updateObj: {\n                        url: '/basedata"+this.codeForm.updateUrl+"',\n                        method: 'fetch'\n                    },\n                    deleteObj: {\n                        url: '/basedata"+this.codeForm.deleteUrl+"',\n                        method: 'fetch'\n                    }\n                },\n                propData: ["+this.codeForm.fieldList+"\n                ]\n            }\n        }\n    }\n";this.vueContent="";var l="<script>"+o+"<\/script>";this.tempContent='<template>\n    <CommonPage\n        :otherVariable="otherVariable"\n        :ajaxConfig="ajaxConfig"\n        :propData="propData">\n    </CommonPage>\n</template>\n'+l},generateCode:function(){this.init(),this.vueContent=this.tempContent,this.codeForm.fieldList=this.$lodash.cloneDeep(this.copyList),this.$message({type:"success",message:"生成代码成功"})},copyCode:function(){window.getSelection().selectAllChildren(this.$refs.copyContent.$el),document.execCommand("Copy"),this.$message({type:"success",message:"复制成功"})},renderTable:function(e,t){var o=this;t.column;return e("i",{class:"table-icon plus-icon el-icon-circle-plus",attrs:{title:"新增"},on:{click:function(){return o.addRow()}}})},addRow:function(){this.rowForm._curdFlag="c",this.codeForm.fieldList.unshift(this.$lodash.cloneDeep(this.rowForm))},deleteRow:function(e){this.codeForm.fieldList[e].id?"d"===this.codeForm.fieldList[e]._curdFlag?this.$set(this.codeForm.fieldList[e],"_curdFlag","r"):this.$set(this.codeForm.fieldList[e],"_curdFlag","d"):this.codeForm.fieldList.splice(e,1)}}}},1609:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"page-secondnav page-commonnav create-code-wrap"},[o("div",{staticClass:"create-code-left"},[o("el-form",{attrs:{model:e.codeForm,"label-width":"120px"}},[o("el-form-item",{attrs:{label:"模块名称"}},[o("el-input",{model:{value:e.codeForm.moduleName,callback:function(t){e.$set(e.codeForm,"moduleName",t)},expression:"codeForm.moduleName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"获取接口"}},[o("el-input",{model:{value:e.codeForm.getUrl,callback:function(t){e.$set(e.codeForm,"getUrl",t)},expression:"codeForm.getUrl"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"新增接口"}},[o("el-input",{model:{value:e.codeForm.addUrl,callback:function(t){e.$set(e.codeForm,"addUrl",t)},expression:"codeForm.addUrl"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"修改接口"}},[o("el-input",{model:{value:e.codeForm.updateUrl,callback:function(t){e.$set(e.codeForm,"updateUrl",t)},expression:"codeForm.updateUrl"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"删除接口"}},[o("el-input",{model:{value:e.codeForm.deleteUrl,callback:function(t){e.$set(e.codeForm,"deleteUrl",t)},expression:"codeForm.deleteUrl"}})],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"右区域占比"}},[o("el-input",{model:{value:e.codeForm.contentWidth,callback:function(t){e.$set(e.codeForm,"contentWidth",t)},expression:"codeForm.contentWidth"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"是否多选"}},[o("el-select",{staticStyle:{width:"100%"},model:{value:e.codeForm.isMulSelect,callback:function(t){e.$set(e.codeForm,"isMulSelect",t)},expression:"codeForm.isMulSelect"}},[o("el-option",{attrs:{value:!0,label:"是"}}),e._v(" "),o("el-option",{attrs:{value:!1,label:"否"}})],1)],1)],1)],1),e._v(" "),o("el-table",{staticClass:"console-mt5",staticStyle:{width:"100%"},attrs:{stripe:"","max-height":"325",data:e.codeForm.fieldList}},[o("el-table-column",{attrs:{width:"55",align:"center","render-header":function(t,o){return e.renderTable(t,o)}},scopedSlots:e._u([{key:"default",fn:function(t){return[o("i",{class:"d"===t.row._curdFlag?"icon-item revert-icon":"table-icon el-icon-remove",on:{click:function(o){e.deleteRow(t.$index)}}})]}}])}),e._v(" "),e._l(e.rowParams,function(t,l){return["normal"===t.ftype?o("el-table-column",{attrs:{align:"center",label:t.fname},scopedSlots:e._u([{key:"default",fn:function(l){return[o("el-input",{model:{value:l.row[t.fcode],callback:function(o){e.$set(l.row,t.fcode,o)},expression:"scope.row[item.fcode]"}})]}}])}):e._e(),e._v(" "),"select"===t.ftype?o("el-table-column",{attrs:{align:"center",label:t.fname},scopedSlots:e._u([{key:"default",fn:function(l){return[o("el-select",{model:{value:l.row[t.fcode],callback:function(o){e.$set(l.row,t.fcode,o)},expression:"scope.row[item.fcode]"}},[o("el-option",{attrs:{value:!0,label:"是"}}),e._v(" "),o("el-option",{attrs:{value:!1,label:"否"}})],1)]}}])}):e._e(),e._v(" "),"typeselect"===t.ftype?o("el-table-column",{attrs:{align:"center",label:t.fname},scopedSlots:e._u([{key:"default",fn:function(l){return[o("el-select",{model:{value:l.row[t.fcode],callback:function(o){e.$set(l.row,t.fcode,o)},expression:"scope.row[item.fcode]"}},e._l(e.selectType,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)]}}])}):e._e()]})],2),e._v(" "),o("div",{staticClass:"console-mt5"},[o("el-button",{on:{click:e.generateCode}},[e._v("生成")]),e._v(" "),o("el-button",{on:{click:function(t){e.init(!0)}}},[e._v("重置")])],1)],1),e._v(" "),o("div",{staticClass:"create-code-right"},[o("el-input",{ref:"copyContent",attrs:{type:"textarea",rows:30},model:{value:e.vueContent,callback:function(t){e.vueContent=t},expression:"vueContent"}}),e._v(" "),o("el-button",{staticClass:"console-mt2",on:{click:e.copyCode}},[e._v("复制")])],1)])},staticRenderFns:[]}},793:function(e,t,o){var l=o(1)(o(1259),o(1609),null,null,null);e.exports=l.exports}});
//# sourceMappingURL=132.f35c27400674c431dfbf.js.map