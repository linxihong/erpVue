webpackJsonp([154],{1155:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(809);a(884),a(913),a(918),a(881),a(914),t.default={data:function(){return{isday:!0,isyear:!1,dayData:[],dayQtyamountsData:[],dayQtyData:[],nameData:[],thisYear:0,lastYear:0,lastqtyYear:0,thisqtyYear:0,wrapHeight:136,wrapWidth:329}},activated:function(){this.init()},mounted:function(){this.init(),this.getDivHeight()},watch:{"$store.state.weekTextIV":"getweekText"},methods:{init:function(){this.getweekText()},getDivHeight:function(){this.wrapHeight=this.$refs.wrapHeight.offsetHeight,this.wrapWidth=this.$refs.wrapHeight.offsetWidth-10},getweekText:function(){var e=this;3===this.$store.state.weekTextIV?(this.isday=!1,setTimeout(function(){e.isyear=!0})):(this.isyear=!1,setTimeout(function(){e.isday=!0})),this.getlist()},getlist:function(){var e=this;this.getlistI(),setTimeout(function(){var t=[];e.dayData=[],e.nameData=[],e.dayQtyamountsData=[];var a=[],i=[];e.fetch("/mktmfc/forms/getsalesmsg?datetype="+e.$store.state.weekTextIV,{}).then(function(n){if(200===n.status)if(t=n.data,0===t.length)2===e.$store.state.weekTextIV?(e.nameData=["月销量","月产量"],e.dayData=e.returnWeek("year"),e.dayQtyamountsData=[0,0,0,0,0,0,0,0,0,0,0,0]):(e.nameData=["日销量","日产量"],e.dayData=e.returnWeek("TendaysNoyear"),e.dayQtyamountsData=[0,0,0,0,0,0,0,0,0,0]);else{for(var r=0;r<t.length;r++)a.push(t[r].senddate),i.push(t[r].sendqtyamounts);2===e.$store.state.weekTextIV?(e.nameData=["月销量","月产量"],e.dayData=e.returnWeek("yearText"),e.dayQtyamountsData=e.returnReconstruction(a,i,e.returnWeek("year"))[1].map(function(e){return(e/1e4).toFixed(2)})):(e.nameData=["日销量","日产量"],e.dayData=e.returnWeek("TendaysNoyear"),e.dayQtyamountsData=e.returnReconstruction(a,i,e.returnWeek("Tendays"))[1].map(function(e){return(e/1e4).toFixed(2)})),3===e.$store.state.weekTextIV&&(e.returnWeek("thisyear")===parseInt(t[0].senddate)?(e.lastYear=t[1].sendqtyamounts,e.thisYear=t[0].sendqtyamounts):(e.lastYear=t[0].sendqtyamounts,e.thisYear=t[1].sendqtyamounts))}else e.$message({message:e.returnIntercept(n),type:"error"})}).then(function(){e.initEchart(),e.setEchart(e.nameData,e.dayData,e.dayQtyamountsData,e.dayQtyData,e.thisYear,e.lastYear,e.lastqtyYear,e.thisqtyYear)})},200)},getlistI:function(){var e=this,t=[];this.dayQtyData=[];var a=[],i=[];this.fetch("/mktmfc/forms/getyieldmsg?datetype="+this.$store.state.weekTextIV,{}).then(function(n){if(200===n.status)if(t=n.data,0===t.length)2===e.$store.state.weekTextIV?e.dayQtyData=[0,0,0,0,0,0,0,0,0,0,0,0]:e.dayQtyData=[0,0,0,0,0,0,0,0,0,0];else{for(var r=0;r<t.length;r++)a.push(t[r].senddate),i.push(t[r].sendqty);2===e.$store.state.weekTextIV?e.dayQtyData=e.returnReconstruction(a,i,e.returnWeek("year"))[1].map(function(e){return(e/1e4).toFixed(2)}):e.dayQtyData=e.returnReconstruction(a,i,e.returnWeek("Tendays"))[1].map(function(e){return(e/1e4).toFixed(2)}),3===e.$store.state.weekTextIV&&(e.returnWeek("thisyear")===parseInt(t[0].senddate)?(e.lastqtyYear=(t[1].sendqty/1e4).toFixed(2),e.thisqtyYear=(t[0].sendqty/1e4).toFixed(2)):(e.lastqtyYear=(t[0].sendqty/1e4).toFixed(2),e.thisqtyYear=(t[1].sendqty/1e4).toFixed(2)))}else e.$message({message:e.returnIntercept(n),type:"error"})})},initEchart:function(){this.isyear?this.cl_chart=i.init(this.$refs.cl_chart):this.bar_chart=i.init(this.$refs.bar_chart)},setEchart:function(e,t,a,i,n,r,s,o){this.isyear?this.cl_chart.setOption({tooltip:{formatter:"{a} <br/>{b} : {c}%"},toolbox:{feature:{restore:{},saveAsImage:{}}},series:[{name:"本年",center:["25%","45%"],radius:"65%",type:"gauge",min:0,max:1e4,splitNumber:5,startAngle:190,endAngle:-10,splitLine:{alignWithLabel:!0,textStyle:{fontSize:10}},axisTick:{alignWithLabel:!0,textStyle:{fontSize:10}},axisLine:{lineStyle:{color:[[.2,"#32c5e9"],[.8,"#37a2da"],[1,"#9fe6b8"]]}},axisLabel:{alignWithLabel:!0,textStyle:{fontSize:10}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#hhh",fontSize:20}},detail:{show:!0,offsetCenter:[0,"50%"],formatter:"\n\n本年销量:{value}(万元)\n \n本年产量:"+o+"(万方)",textStyle:{fontSize:15}},data:[{value:(n/1e4).toFixed(2)}]},{name:"去年",center:["76%","45%"],radius:"65%",type:"gauge",splitNumber:5,min:0,max:1e4,startAngle:190,endAngle:-10,splitLine:{alignWithLabel:!0,textStyle:{fontSize:10}},axisTick:{alignWithLabel:!0,textStyle:{fontSize:10}},axisLine:{lineStyle:{color:[[.2,"#fb7293"],[.8,"#ff9f7f"],[1,"#e7bcf3"]]}},axisLabel:{alignWithLabel:!0,textStyle:{fontSize:10}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#hhh",fontSize:20}},detail:{show:!0,offsetCenter:[0,"50%"],formatter:"\n\n去年销量:{value}(万元)\n \n去年产量:"+s+"(万方)",textStyle:{fontSize:15}},data:[{value:(r/1e4).toFixed(2)}]}]}):this.bar_chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:e,right:"7%"},grid:{left:"10%",width:"84%",height:"60%",bottom:"22%"},xAxis:[{type:"category",axisTick:{alignWithLabel:!0},data:t}],yAxis:[{type:"value",name:"万(元)",axisTick:{alignWithLabel:!0}},{type:"value",name:"万(方)",axisLabel:{alignWithLabel:!0}}],series:[{name:e[0],type:"bar",barWidth:"30%",itemStyle:{normal:{color:"#67e0e3",shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:10}},data:a},{name:e[1],type:"line",yAxisIndex:1,itemStyle:{normal:{color:"#ffdb5c",shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:10}},data:i}]})}}}},1354:function(e,t,a){t=e.exports=a(656)(!0),t.push([e.i,".heigth-div[data-v-71130e8a]{height:100%}.point-div[data-v-71130e8a]{margin-top:20px;margin-left:20px;display:flex;justify-content:space-between}.point-div .spanI[data-v-71130e8a],.point-div .spanII[data-v-71130e8a]{width:50%}.point-div .span-span[data-v-71130e8a]{margin-left:20px}","",{version:3,sources:["F:/pc_project/erp-aluminium/yunerp/src/page/erp_pc/erp_ph/ph_block/jiaobanzhanzhang_xlxx.vue"],names:[],mappings:"AACA,6BACE,WAAa,CACd,AACD,4BACE,gBAAiB,AACjB,iBAAkB,AAClB,aAAc,AACd,6BAA+B,CAChC,AAID,uEACE,SAAW,CACZ,AACD,uCACE,gBAAkB,CACnB",file:"jiaobanzhanzhang_xlxx.vue",sourcesContent:["\n.heigth-div[data-v-71130e8a] {\n  height: 100%;\n}\n.point-div[data-v-71130e8a] {\n  margin-top: 20px;\n  margin-left: 20px;\n  display: flex;\n  justify-content: space-between;\n}\n.point-div .spanI[data-v-71130e8a] {\n  width: 50%;\n}\n.point-div .spanII[data-v-71130e8a] {\n  width: 50%;\n}\n.point-div .span-span[data-v-71130e8a] {\n  margin-left: 20px;\n}\n.bar-chart[data-v-71130e8a] {\n  /*width: 420px;*/\n  /*height: 200px;*/\n}\n.cl-chart[data-v-71130e8a] {\n  /*width: 420px;*/\n  /*height: 250px;*/\n}\n"],sourceRoot:""}])},1485:function(e,t,a){var i=a(1354);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(657)("69ffac54",i,!0,{})},1527:function(e,t,a){function i(e){a(1485)}var n=a(1)(a(1155),a(1689),i,"data-v-71130e8a",null);e.exports=n.exports},1689:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"wrapHeight",staticClass:"heigth-div scrollBar"},[e.isday?a("div",[e.isday?a("div",{ref:"bar_chart",staticClass:"bar-chart",style:{width:e.wrapWidth+"px",height:e.wrapHeight+"px"}}):e._e()]):e._e(),e._v(" "),e.isyear?a("div",[e.isyear?a("div",{ref:"cl_chart",staticClass:"cl-chart",style:{width:e.wrapWidth+"px",height:e.wrapHeight+"px"}}):e._e()]):e._e()])},staticRenderFns:[]}},918:function(e,t,a){a(919),a(920)},919:function(e,t,a){var i=a(855),n=a(868),r=a(794),s=n.extend({type:"series.gauge",getInitialData:function(e,t){var a=new i(["value"],this),n=e.data||[];return r.isArray(n)||(n=[n]),a.initData(n),a},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),o=s;e.exports=o},920:function(e,t,a){function i(e,t){var a=e.get("center"),i=t.getWidth(),n=t.getHeight(),r=Math.min(i,n);return{cx:h(a[0],t.getWidth()),cy:h(a[1],t.getHeight()),r:h(e.get("radius"),r/2)}}function n(e,t){return t&&("string"==typeof t?e=t.replace("{value}",null!=e?e:""):"function"==typeof t&&(e=t(e))),e}var r=a(921),s=a(808),o=a(869),l=a(810),h=l.parsePercent,d=l.round,c=l.linearMap,g=2*Math.PI,u=o.extend({type:"gauge",render:function(e,t,a){this.group.removeAll();var n=e.get("axisLine.lineStyle.color"),r=i(e,a);this._renderMain(e,t,a,n,r)},dispose:function(){},_renderMain:function(e,t,a,i,n){for(var r=this.group,o=e.getModel("axisLine"),l=o.getModel("lineStyle"),h=e.get("clockwise"),d=-e.get("startAngle")/180*Math.PI,c=-e.get("endAngle")/180*Math.PI,u=(c-d)%g,y=d,f=l.get("width"),p=0;p<i.length;p++){var x=Math.min(Math.max(i[p][0],0),1),c=d+u*x,m=new s.Sector({shape:{startAngle:y,endAngle:c,cx:n.cx,cy:n.cy,clockwise:h,r0:n.r-f,r:n.r},silent:!0});m.setStyle({fill:i[p][1]}),m.setStyle(l.getLineStyle(["color","borderWidth","borderColor"])),r.add(m),y=c}var v=function(e){if(e<=0)return i[0][1];for(var t=0;t<i.length;t++)if(i[t][0]>=e&&(0===t?0:i[t-1][0])<e)return i[t][1];return i[t-1][1]};if(!h){var w=d;d=c,c=w}this._renderTicks(e,t,a,v,n,d,c,h),this._renderPointer(e,t,a,v,n,d,c,h),this._renderTitle(e,t,a,v,n),this._renderDetail(e,t,a,v,n)},_renderTicks:function(e,t,a,i,r,o,l,c){for(var g=this.group,u=r.cx,y=r.cy,f=r.r,p=+e.get("min"),x=+e.get("max"),m=e.getModel("splitLine"),v=e.getModel("axisTick"),w=e.getModel("axisLabel"),A=e.get("splitNumber"),S=v.get("splitNumber"),b=h(m.get("length"),f),k=h(v.get("length"),f),T=o,D=(l-o)/A,C=D/S,I=m.getModel("lineStyle").getLineStyle(),_=v.getModel("lineStyle").getLineStyle(),W=0;W<=A;W++){var M=Math.cos(T),L=Math.sin(T);if(m.get("show")){var q=new s.Line({shape:{x1:M*f+u,y1:L*f+y,x2:M*(f-b)+u,y2:L*(f-b)+y},style:I,silent:!0});"auto"===I.stroke&&q.setStyle({stroke:i(W/A)}),g.add(q)}if(w.get("show")){var z=n(d(W/A*(x-p)+p),w.get("formatter")),$=w.get("distance"),B=i(W/A);g.add(new s.Text({style:s.setTextStyle({},w,{text:z,x:M*(f-b-$)+u,y:L*(f-b-$)+y,textVerticalAlign:L<-.4?"top":L>.4?"bottom":"middle",textAlign:M<-.4?"left":M>.4?"right":"center"},{autoColor:B}),silent:!0}))}if(v.get("show")&&W!==A){for(var E=0;E<=S;E++){var M=Math.cos(T),L=Math.sin(T),Y=new s.Line({shape:{x1:M*f+u,y1:L*f+y,x2:M*(f-k)+u,y2:L*(f-k)+y},silent:!0,style:_});"auto"===_.stroke&&Y.setStyle({stroke:i((W+E/S)/A)}),g.add(Y),T+=C}T-=C}else T+=D}},_renderPointer:function(e,t,a,i,n,o,l,d){var g=this.group,u=this._data;if(!e.get("pointer.show"))return void(u&&u.eachItemGraphicEl(function(e){g.remove(e)}));var y=[+e.get("min"),+e.get("max")],f=[o,l],p=e.getData();p.diff(u).add(function(t){var a=new r({shape:{angle:o}});s.initProps(a,{shape:{angle:c(p.get("value",t),y,f,!0)}},e),g.add(a),p.setItemGraphicEl(t,a)}).update(function(t,a){var i=u.getItemGraphicEl(a);s.updateProps(i,{shape:{angle:c(p.get("value",t),y,f,!0)}},e),g.add(i),p.setItemGraphicEl(t,i)}).remove(function(e){var t=u.getItemGraphicEl(e);g.remove(t)}).execute(),p.eachItemGraphicEl(function(e,t){var a=p.getItemModel(t),r=a.getModel("pointer");e.setShape({x:n.cx,y:n.cy,width:h(r.get("width"),n.r),r:h(r.get("length"),n.r)}),e.useStyle(a.getModel("itemStyle.normal").getItemStyle()),"auto"===e.style.fill&&e.setStyle("fill",i(c(p.get("value",t),y,[0,1],!0))),s.setHoverStyle(e,a.getModel("itemStyle.emphasis").getItemStyle())}),this._data=p},_renderTitle:function(e,t,a,i,n){var r=e.getModel("title");if(r.get("show")){var o=r.get("offsetCenter"),l=n.cx+h(o[0],n.r),d=n.cy+h(o[1],n.r),g=+e.get("min"),u=+e.get("max"),y=e.getData().get("value",0),f=i(c(y,[g,u],[0,1],!0));this.group.add(new s.Text({silent:!0,style:s.setTextStyle({},r,{x:l,y:d,text:e.getData().getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:f,forceRich:!0})}))}},_renderDetail:function(e,t,a,i,r){var o=e.getModel("detail"),l=+e.get("min"),d=+e.get("max");if(o.get("show")){var g=o.get("offsetCenter"),u=r.cx+h(g[0],r.r),y=r.cy+h(g[1],r.r),f=h(o.get("width"),r.r),p=h(o.get("height"),r.r),x=e.getData().get("value",0),m=i(c(x,[l,d],[0,1],!0));this.group.add(new s.Text({silent:!0,style:s.setTextStyle({},o,{x:u,y:y,text:n(x,o.get("formatter")),textWidth:isNaN(f)?null:f,textHeight:isNaN(p)?null:p,textAlign:"center",textVerticalAlign:"middle"},{autoColor:m,forceRich:!0})}))}}}),y=u;e.exports=y},921:function(e,t,a){var i=a(813),n=i.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var a=Math.cos,i=Math.sin,n=t.r,r=t.width,s=t.angle,o=t.x-a(s)*r*(r>=n/3?1:2),l=t.y-i(s)*r*(r>=n/3?1:2);s=t.angle-Math.PI/2,e.moveTo(o,l),e.lineTo(t.x+a(s)*r,t.y+i(s)*r),e.lineTo(t.x+a(t.angle)*n,t.y+i(t.angle)*n),e.lineTo(t.x-a(s)*r,t.y-i(s)*r),e.lineTo(o,l)}});e.exports=n}});
//# sourceMappingURL=154.19587fd9266779d9a8d9.js.map