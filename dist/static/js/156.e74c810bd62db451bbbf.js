webpackJsonp([156],{1151:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(809);a(884),a(913),a(918),a(881),a(914),e.default={data:function(){return{isday:!0,isyear:!1,dayData:[],consumeqtyData:[],transportqtyData:[],singleData:[],consumptionYear:0,qtyYear:0,qtyAverage:0,wrapHeight:210,wrapWidth:329,qtyHeight:140,yhHeight:140}},activated:function(){this.init()},mounted:function(){this.init(),this.getDivHeight()},watch:{"$store.state.weekTextV":"getweekText"},methods:{init:function(){this.getweekText()},getDivHeight:function(){this.wrapHeight=this.$refs.wrapHeight.offsetHeight+10,this.wrapWidth=this.$refs.wrapHeight.offsetWidth,this.qtyHeight=this.wrapHeight/2,this.yhHeight=this.wrapHeight/2},getweekText:function(){var t=this;3===this.$store.state.weekTextV?(this.isday=!1,setTimeout(function(){t.isyear=!0})):(this.isyear=!1,setTimeout(function(){t.isday=!0})),this.getlist()},getlist:function(){var t=this,e=[];this.dayData=[],this.singleData=[],this.consumeqtyData=[],this.transportqtyData=[];var a=[],i=[],n=[];this.getAjax("/mktmfc/forms/getcarlistmsg?datetype="+this.$store.state.weekTextV).then(function(r){if(200===r.status)if(e=r.data,0===e.length)2===t.$store.state.weekTextV?(t.dayData=t.returnWeek("year"),t.consumeqtyData=[0,0,0,0,0,0,0,0,0,0,0,0],t.transportqtyData=[0,0,0,0,0,0,0,0,0,0,0,0],t.singleData=[0,0,0,0,0,0,0,0,0,0,0,0]):(t.dayData=t.returnWeek("TendaysNoyear"),t.consumeqtyData=[0,0,0,0,0,0,0,0,0,0],t.transportqtyData=[0,0,0,0,0,0,0,0,0,0],t.singleData=[0,0,0,0,0,0,0,0,0,0]);else{for(var o=0;o<e.length;o++)a.push(e[o].consumedate),i.push(e[o].consumeqty),n.push(e[o].transportqty);2===t.$store.state.weekTextV?(t.dayData=t.returnWeek("yearText"),t.consumeqtyData=t.returnReconstruction(a,i,t.returnWeek("year"))[1],t.transportqtyData=t.returnReconstruction(a,n,t.returnWeek("year"))[1].map(function(t){return(t/1e4).toFixed(2)})):(t.dayData=t.returnWeek("TendaysNoyear"),t.consumeqtyData=t.returnReconstruction(a,i,t.returnWeek("Tendays"))[1],t.transportqtyData=t.returnReconstruction(a,n,t.returnWeek("Tendays"))[1].map(function(t){return(t/1e4).toFixed(2)}));for(var s=0;s<t.consumeqtyData.length;s++)0===t.transportqtyData[s]?t.singleData.push(t.transportqtyData[s]):t.singleData.push((t.consumeqtyData[s]/t.transportqtyData[s]).toFixed(2));t.consumptionYear=e[0].consumeqty,t.qtyYear=e[0].transportqty,0===t.qtyYear||0===t.qtyYear?t.qtyAverage=0:t.qtyAverage=(e[0].consumeqty/e[0].transportqty).toFixed(2)}else t.$message({message:t.returnIntercept(r),type:"error"})}).then(function(){t.initEchart(),t.setEchart(t.dayData,t.transportqtyData,t.consumeqtyData,t.singleData,t.qtyYear,t.consumptionYear,t.qtyAverage)})},initEchart:function(){this.isyear?this.cl_chart=i.init(this.$refs.cl_chart):(this.qty_chart=i.init(this.$refs.qty_chart),this.yh_chart=i.init(this.$refs.yh_chart))},setEchart:function(t,e,a,i,n,r,o){this.isyear?this.cl_chart.setOption({tooltip:{formatter:"{a} <br/>{b} : {c}%"},toolbox:{feature:{restore:{},saveAsImage:{}}},series:[{name:"送货方量",center:["25%","32%"],radius:"60%",type:"gauge",splitNumber:5,min:0,max:1e6,startAngle:190,endAngle:-10,splitLine:{alignWithLabel:!0,textStyle:{fontSize:10}},axisTick:{alignWithLabel:!0,textStyle:{fontSize:10}},axisLine:{lineStyle:{color:[[.2,"#fb7293"],[.8,"#ff9f7f"],[1,"#e7bcf3"]]}},axisLabel:{alignWithLabel:!0,textStyle:{fontSize:10},formatter:function(t){switch(t+""){case"0":return"0";case"100000":return"100000";case"200000":return"200000";case"800000":return"800000";case"1000000":return"1000000"}}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#hhh",fontSize:20}},detail:{show:!0,offsetCenter:[0,"50%"],formatter:"送货方量:{value}",textStyle:{fontSize:15}},data:[{value:n}]},{name:"总耗油",center:["76%","32%"],radius:"60%",type:"gauge",min:0,max:1e4,splitNumber:5,startAngle:190,endAngle:-10,splitLine:{alignWithLabel:!0,textStyle:{fontSize:10}},axisTick:{alignWithLabel:!0,textStyle:{fontSize:10}},axisLine:{lineStyle:{color:[[.2,"#32c5e9"],[.8,"#37a2da"],[1,"#9fe6b8"]]}},axisLabel:{alignWithLabel:!0,textStyle:{fontSize:10}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#hhh",fontSize:20}},detail:{show:!0,offsetCenter:[0,"50%"],formatter:"总耗油:{value}",textStyle:{fontSize:15}},data:[{value:r}]},{name:"单方耗油量",center:["50%","77%"],radius:"52%",type:"gauge",splitNumber:5,min:0,max:1,startAngle:190,endAngle:-10,splitLine:{alignWithLabel:!0,textStyle:{fontSize:10}},axisTick:{alignWithLabel:!0,textStyle:{fontSize:10}},axisLabel:{alignWithLabel:!0,textStyle:{fontSize:10}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#hhh",fontSize:15}},detail:{show:!0,offsetCenter:[0,"45%"],formatter:"平均油耗:{value}",textStyle:{fontSize:15}},data:[{value:o}]}]}):(this.qty_chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["方量","油量"]},grid:{left:"18%",width:"68%",height:"50%",bottom:"28%"},xAxis:[{type:"category",axisTick:{alignWithLabel:!0},data:t}],yAxis:[{type:"value",name:"万(方)",axisTick:{alignWithLabel:!0}},{type:"value",name:"",axisLabel:{alignWithLabel:!0}}],series:[{name:"方量",type:"bar",barWidth:"30%",itemStyle:{normal:{color:"#37a2da",shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:10}},data:e},{name:"油量",type:"line",yAxisIndex:1,itemStyle:{normal:{color:"#ff9f7f"}},lineStyle:{normal:{width:3,shadowColor:"rgba(0,0,0,0.4)",shadowBlur:10,shadowOffsetY:10}},data:a}]}),this.yh_chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"14%",width:"70%",height:"50%",bottom:"40%"},xAxis:[{type:"category",axisTick:{alignWithLabel:!0},data:t}],yAxis:[{type:"value",name:"",axisTick:{alignWithLabel:!0}}],series:[{name:"日",type:"line",barWidth:"30%",itemStyle:{normal:{color:"#ff9f7f"}},lineStyle:{normal:{width:3,shadowColor:"rgba(0,0,0,0.4)",shadowBlur:10,shadowOffsetY:10}},data:i}]}))}}}},1382:function(t,e,a){e=t.exports=a(656)(!0),e.push([t.i,".heigth-div[data-v-ca681f30]{height:100%}.self-table td[data-v-ca681f30],.self-table th[data-v-ca681f30]{font-weight:400;border:0 solid #fff}.el-table td[data-v-ca681f30],.el-table th[data-v-ca681f30]{background-color:#fff;height:35px}.point-div[data-v-ca681f30]{display:flex;flex-direction:column;justify-content:space-between}.point-div p[data-v-ca681f30]{margin:0 5px}.point-div .qty-div[data-v-ca681f30]{display:flex;position:relative}.point-div .qty-div .barI[data-v-ca681f30]{position:absolute;width:20px;margin-top:15px}.point-div .qty-div .bar-chart[data-v-ca681f30]{margin:0 auto}@media screen and (max-width:1500px){.point-div .qty-div .bar-chart[data-v-ca681f30]{padding:0 15px}}.point-div .qty-div .barII[data-v-ca681f30]{position:absolute;right:5px;width:20px;margin-top:15px}.point-div .yh-div[data-v-ca681f30]{display:flex}.point-div .yh-div .barIII[data-v-ca681f30]{width:20px;margin-top:10px}","",{version:3,sources:["F:/pc_project/erp-aluminium/yunerp/src/page/erp_pc/erp_ph/ph_block/jiaobanzhanzhang_cdxx.vue"],names:[],mappings:"AACA,6BACE,WAAa,CACd,AACD,gEAEE,gBAAoB,AACpB,mBAAuB,CACxB,AACD,4DAEE,sBAAuB,AACvB,WAAa,CACd,AACD,4BACE,aAAc,AACd,sBAAuB,AACvB,6BAA+B,CAChC,AACD,8BACE,YAAc,CACf,AACD,qCACE,aAAc,AACd,iBAAmB,CACpB,AACD,2CACE,kBAAmB,AACnB,WAAY,AACZ,eAAiB,CAClB,AACD,gDACE,aAAe,CAChB,AACD,qCACA,gDACI,cAAgB,CACnB,CACA,AACD,4CACE,kBAAmB,AACnB,UAAW,AACX,WAAY,AACZ,eAAiB,CAClB,AACD,oCACE,YAAc,CACf,AACD,4CACE,WAAY,AACZ,eAAiB,CAClB",file:"jiaobanzhanzhang_cdxx.vue",sourcesContent:["\n.heigth-div[data-v-ca681f30] {\n  height: 100%;\n}\n.self-table th[data-v-ca681f30],\n.self-table td[data-v-ca681f30] {\n  font-weight: normal;\n  border: 0px solid #fff;\n}\n.el-table td[data-v-ca681f30],\n.el-table th[data-v-ca681f30] {\n  background-color: #fff;\n  height: 35px;\n}\n.point-div[data-v-ca681f30] {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n.point-div p[data-v-ca681f30] {\n  margin: 0 5px;\n}\n.point-div .qty-div[data-v-ca681f30] {\n  display: flex;\n  position: relative;\n}\n.point-div .qty-div .barI[data-v-ca681f30] {\n  position: absolute;\n  width: 20px;\n  margin-top: 15px;\n}\n.point-div .qty-div .bar-chart[data-v-ca681f30] {\n  margin: 0 auto;\n}\n@media screen and (max-width: 1500px) {\n.point-div .qty-div .bar-chart[data-v-ca681f30] {\n    padding: 0 15px;\n}\n}\n.point-div .qty-div .barII[data-v-ca681f30] {\n  position: absolute;\n  right: 5px;\n  width: 20px;\n  margin-top: 15px;\n}\n.point-div .yh-div[data-v-ca681f30] {\n  display: flex;\n}\n.point-div .yh-div .barIII[data-v-ca681f30] {\n  width: 20px;\n  margin-top: 10px;\n}\n.point-div .bar-chart[data-v-ca681f30] {\n  /*width: 420px;*/\n  /*height: 150px;*/\n}\n.point-div .yh-chart[data-v-ca681f30] {\n  /*width: 420px;*/\n  /*height: 150px;*/\n}\n.cl-chart[data-v-ca681f30] {\n  /*width: 420px;*/\n  /*height: 274px;*/\n}\n"],sourceRoot:""}])},1513:function(t,e,a){var i=a(1382);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(657)("669b2794",i,!0,{})},1523:function(t,e,a){function i(t){a(1513)}var n=a(1)(a(1151),a(1729),i,"data-v-ca681f30",null);t.exports=n.exports},1729:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"wrapHeight",staticClass:"heigth-div scrollBar"},[a("div",{staticClass:"point-div"},[t.isday?a("div",{staticClass:"qty-div",style:{width:t.wrapWidth+"px",height:t.qtyHeight+"px"}},[t._m(0),t._v(" "),a("div",{ref:"qty_chart",staticClass:"bar-chart",style:{width:t.wrapWidth+"px"}}),t._v(" "),t._m(1)]):t._e(),t._v(" "),t.isday?a("div",{staticClass:"yh-div",style:{width:t.wrapWidth+"px",height:t.yhHeight+"px"}},[t._m(2),t._v(" "),a("div",{ref:"yh_chart",staticClass:"yh-chart",style:{width:t.wrapWidth+"px"}})]):t._e()]),t._v(" "),t.isyear?a("div",{ref:"cl_chart",staticClass:"cl-chart",style:{width:t.wrapWidth+"px",height:t.wrapHeight+"px"}}):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"barI"},[a("p",[t._v("送")]),t._v(" "),a("p",[t._v("货")]),t._v(" "),a("p",[t._v("方")]),t._v(" "),a("p",[t._v("量")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"barII"},[a("p",[t._v("总")]),t._v(" "),a("p",[t._v("耗")]),t._v(" "),a("p",[t._v("油")]),t._v(" "),a("p",[t._v("量")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"barIII"},[a("p",[t._v("单")]),t._v(" "),a("p",[t._v("方")]),t._v(" "),a("p",[t._v("油")]),t._v(" "),a("p",[t._v("耗")])])}]}},918:function(t,e,a){a(919),a(920)},919:function(t,e,a){var i=a(855),n=a(868),r=a(794),o=n.extend({type:"series.gauge",getInitialData:function(t,e){var a=new i(["value"],this),n=t.data||[];return r.isArray(n)||(n=[n]),a.initData(n),a},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),s=o;t.exports=s},920:function(t,e,a){function i(t,e){var a=t.get("center"),i=e.getWidth(),n=e.getHeight(),r=Math.min(i,n);return{cx:h(a[0],e.getWidth()),cy:h(a[1],e.getHeight()),r:h(t.get("radius"),r/2)}}function n(t,e){return e&&("string"==typeof e?t=e.replace("{value}",null!=t?t:""):"function"==typeof e&&(t=e(t))),t}var r=a(921),o=a(808),s=a(869),l=a(810),h=l.parsePercent,d=l.round,c=l.linearMap,g=2*Math.PI,p=s.extend({type:"gauge",render:function(t,e,a){this.group.removeAll();var n=t.get("axisLine.lineStyle.color"),r=i(t,a);this._renderMain(t,e,a,n,r)},dispose:function(){},_renderMain:function(t,e,a,i,n){for(var r=this.group,s=t.getModel("axisLine"),l=s.getModel("lineStyle"),h=t.get("clockwise"),d=-t.get("startAngle")/180*Math.PI,c=-t.get("endAngle")/180*Math.PI,p=(c-d)%g,f=d,y=l.get("width"),u=0;u<i.length;u++){var v=Math.min(Math.max(i[u][0],0),1),c=d+p*v,x=new o.Sector({shape:{startAngle:f,endAngle:c,cx:n.cx,cy:n.cy,clockwise:h,r0:n.r-y,r:n.r},silent:!0});x.setStyle({fill:i[u][1]}),x.setStyle(l.getLineStyle(["color","borderWidth","borderColor"])),r.add(x),f=c}var A=function(t){if(t<=0)return i[0][1];for(var e=0;e<i.length;e++)if(i[e][0]>=t&&(0===e?0:i[e-1][0])<t)return i[e][1];return i[e-1][1]};if(!h){var m=d;d=c,c=m}this._renderTicks(t,e,a,A,n,d,c,h),this._renderPointer(t,e,a,A,n,d,c,h),this._renderTitle(t,e,a,A,n),this._renderDetail(t,e,a,A,n)},_renderTicks:function(t,e,a,i,r,s,l,c){for(var g=this.group,p=r.cx,f=r.cy,y=r.r,u=+t.get("min"),v=+t.get("max"),x=t.getModel("splitLine"),A=t.getModel("axisTick"),m=t.getModel("axisLabel"),w=t.get("splitNumber"),C=A.get("splitNumber"),b=h(x.get("length"),y),_=h(A.get("length"),y),S=s,D=(l-s)/w,q=D/C,k=x.getModel("lineStyle").getLineStyle(),W=A.getModel("lineStyle").getLineStyle(),B=0;B<=w;B++){var T=Math.cos(S),I=Math.sin(S);if(x.get("show")){var L=new o.Line({shape:{x1:T*y+p,y1:I*y+f,x2:T*(y-b)+p,y2:I*(y-b)+f},style:k,silent:!0});"auto"===k.stroke&&L.setStyle({stroke:i(B/w)}),g.add(L)}if(m.get("show")){var M=n(d(B/w*(v-u)+u),m.get("formatter")),E=m.get("distance"),z=i(B/w);g.add(new o.Text({style:o.setTextStyle({},m,{text:M,x:T*(y-b-E)+p,y:I*(y-b-E)+f,textVerticalAlign:I<-.4?"top":I>.4?"bottom":"middle",textAlign:T<-.4?"left":T>.4?"right":"center"},{autoColor:z}),silent:!0}))}if(A.get("show")&&B!==w){for(var H=0;H<=C;H++){var T=Math.cos(S),I=Math.sin(S),Y=new o.Line({shape:{x1:T*y+p,y1:I*y+f,x2:T*(y-_)+p,y2:I*(y-_)+f},silent:!0,style:W});"auto"===W.stroke&&Y.setStyle({stroke:i((B+H/C)/w)}),g.add(Y),S+=q}S-=q}else S+=D}},_renderPointer:function(t,e,a,i,n,s,l,d){var g=this.group,p=this._data;if(!t.get("pointer.show"))return void(p&&p.eachItemGraphicEl(function(t){g.remove(t)}));var f=[+t.get("min"),+t.get("max")],y=[s,l],u=t.getData();u.diff(p).add(function(e){var a=new r({shape:{angle:s}});o.initProps(a,{shape:{angle:c(u.get("value",e),f,y,!0)}},t),g.add(a),u.setItemGraphicEl(e,a)}).update(function(e,a){var i=p.getItemGraphicEl(a);o.updateProps(i,{shape:{angle:c(u.get("value",e),f,y,!0)}},t),g.add(i),u.setItemGraphicEl(e,i)}).remove(function(t){var e=p.getItemGraphicEl(t);g.remove(e)}).execute(),u.eachItemGraphicEl(function(t,e){var a=u.getItemModel(e),r=a.getModel("pointer");t.setShape({x:n.cx,y:n.cy,width:h(r.get("width"),n.r),r:h(r.get("length"),n.r)}),t.useStyle(a.getModel("itemStyle.normal").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",i(c(u.get("value",e),f,[0,1],!0))),o.setHoverStyle(t,a.getModel("itemStyle.emphasis").getItemStyle())}),this._data=u},_renderTitle:function(t,e,a,i,n){var r=t.getModel("title");if(r.get("show")){var s=r.get("offsetCenter"),l=n.cx+h(s[0],n.r),d=n.cy+h(s[1],n.r),g=+t.get("min"),p=+t.get("max"),f=t.getData().get("value",0),y=i(c(f,[g,p],[0,1],!0));this.group.add(new o.Text({silent:!0,style:o.setTextStyle({},r,{x:l,y:d,text:t.getData().getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:y,forceRich:!0})}))}},_renderDetail:function(t,e,a,i,r){var s=t.getModel("detail"),l=+t.get("min"),d=+t.get("max");if(s.get("show")){var g=s.get("offsetCenter"),p=r.cx+h(g[0],r.r),f=r.cy+h(g[1],r.r),y=h(s.get("width"),r.r),u=h(s.get("height"),r.r),v=t.getData().get("value",0),x=i(c(v,[l,d],[0,1],!0));this.group.add(new o.Text({silent:!0,style:o.setTextStyle({},s,{x:p,y:f,text:n(v,s.get("formatter")),textWidth:isNaN(y)?null:y,textHeight:isNaN(u)?null:u,textAlign:"center",textVerticalAlign:"middle"},{autoColor:x,forceRich:!0})}))}}}),f=p;t.exports=f},921:function(t,e,a){var i=a(813),n=i.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var a=Math.cos,i=Math.sin,n=e.r,r=e.width,o=e.angle,s=e.x-a(o)*r*(r>=n/3?1:2),l=e.y-i(o)*r*(r>=n/3?1:2);o=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+a(o)*r,e.y+i(o)*r),t.lineTo(e.x+a(e.angle)*n,e.y+i(e.angle)*n),t.lineTo(e.x-a(o)*r,e.y-i(o)*r),t.lineTo(s,l)}});t.exports=n}});
//# sourceMappingURL=156.e74c810bd62db451bbbf.js.map