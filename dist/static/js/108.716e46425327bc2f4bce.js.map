{"version":3,"sources":["webpack:///static/js/108.716e46425327bc2f4bce.js","webpack:///announcement_view.vue","webpack:///./src/page/erp_pc/erp_mc/announcement_view.vue?8eb7","webpack:///./src/page/erp_pc/erp_mc/announcement_view.vue?3891","webpack:///./src/page/erp_pc/erp_mc/announcement_view.vue?dfaf","webpack:///./src/page/erp_pc/erp_mc/announcement_view.vue"],"names":["webpackJsonp","1140","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","data","apiUrl","activeNames","inboxData","items","ischeckboxData","announcementform","type","title","publisher","publishtime","content","attachment","config","toolbars","zIndex","autoHeightEnabled","autoFloatEnabled","initialContent","autoClearinitialContent","initialFrameWidth","initialFrameHeight","BaseUrl","UEDITOR_HOME_URL","isbutton","download","mounted","this","init","watch","$route","methods","getid","setStorage","getIsbutton","val","_this2","inboxcd","params","id","getAjax","then","result","status","removeHTMLTag","push","markread","getDownload","location","href","host","previous","index","i","inboxcdData","length","next","undefined","_this3","fetch","$store","state","noticnum","AnnounmMission","typeid","sessionStorage","getItem","setTimeout","setItem","cancel","$routeTo","1349","exports","version","sources","names","mappings","file","sourcesContent","sourceRoot","1480","locals","1682","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","_v","ref","attrs","inline","model","label-width","label","readonly","callback","$$v","$set","expression","disabled","align","format","placeholder","resize","rows","_s","staticRenderFns","718","injectStyle","ssrContext","Component"],"mappings":"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","file":"static/js/108.716e46425327bc2f4bce.js","sourcesContent":["webpackJsonp([108],{\n\n/***/ 1140:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return {\n            apiUrl: '/message/inbox/get/',\n            activeNames: ['1'],\n            inboxData: [],\n            items: [],\n            ischeckboxData: [],\n            announcementform: {\n                type: null,\n                title: null,\n                publisher: null,\n                publishtime: null,\n                content: null,\n                attachment: null\n            },\n            config: {\n                //可以在此处定义工具栏的内容\n                toolbars: [['fullscreen', 'undo', 'redo', '|', 'bold', 'italic', 'underline', '|', 'superscript', 'subscript', '|', 'insertorderedlist', 'insertunorderedlist', '|', 'fontfamily', 'fontsize', 'justifyleft', 'justifyright', 'justifycenter', 'justifyjustify']],\n                zIndex: 100,\n                autoHeightEnabled: false,\n                autoFloatEnabled: true,\n                initialContent: '请输入内容', //初始化编辑器的内容,也可以通过textarea/script给值，看官网例子\n                autoClearinitialContent: true, //是否自动清除编辑器初始内容，注意：如果focus属性设置为true,这个也为真，那么编辑器一上来就会触发导致初始化的内容看不到了\n                initialFrameWidth: null,\n                initialFrameHeight: 300,\n                BaseUrl: '',\n                UEDITOR_HOME_URL: \"/static/UE/\"\n            },\n            isbutton: true,\n            download: null\n        };\n    },\n    mounted: function mounted() {\n        this.init();\n    },\n\n    watch: {\n        $route: function $route() {\n            this.init();\n        }\n    },\n    methods: {\n        init: function init() {\n            this.getid();\n            this.setStorage();\n            this.getIsbutton();\n        },\n\n\n        //查看\n        getid: function getid(val) {\n            var _this2 = this;\n\n            var _this = this;\n            var inboxcd = void 0;\n            if (val) {\n                inboxcd = val;\n            } else {\n                inboxcd = this.$route.params.id;\n            }\n            if (inboxcd) {\n                this.getAjax(this.apiUrl + inboxcd).then(function (result) {\n                    if (result.status === 200) {\n                        if (result.data !== null) {\n                            _this2.announcementform = result.data;\n                            _this2.download = result.data.attachment;\n                            _this2.announcementform.content = _this2.removeHTMLTag(result.data.content);\n                            _this2.ischeckboxData.push(inboxcd);\n                            _this2.markread();\n                            // if(result.data.taskhandleList){\n                            //     this.items = result.data.taskhandleList;\n                            // }\n                        }\n                    }\n                });\n            }\n        },\n\n\n        //下载附件\n        getDownload: function getDownload() {\n            if (this.download) {\n                location.href = 'http://' + location.host + '/message/file/download/?filename=' + this.download;\n                //location.href = `http://192.168.11.84:8480/message/file/download/?filename=${this.download}`\n                //this.getAjax('/message/file/download/?filename='+this.download)\n            }\n        },\n\n        //上一条\n        previous: function previous() {\n            if (this.$route.params.index != 0) {\n                var i = --this.$route.params.index;\n                var inboxcd = void 0;\n                var inboxcdData = this.$route.params.inboxcdData;\n                if (inboxcdData) {\n                    for (i; i < inboxcdData.length; i--) {\n                        inboxcd = inboxcdData[i].inboxcd;\n                        break;\n                    }\n                    this.getid(inboxcd);\n                }\n            }\n        },\n\n\n        //下一条\n        next: function next() {\n            var i = ++this.$route.params.index;\n            var inboxcd = void 0;\n            var inboxcdData = this.$route.params.inboxcdData;\n            if (inboxcdData) {\n                for (i; i < inboxcdData.length; i++) {\n                    inboxcd = inboxcdData[i].inboxcd;\n                    break;\n                }\n                this.getid(inboxcd);\n            }\n        },\n\n\n        //按钮true/false\n        getIsbutton: function getIsbutton() {\n            if (this.$route.params.inboxcdData === undefined) {\n                this.isbutton = false;\n            }\n        },\n\n        //标为已读\n        markread: function markread() {\n            var _this3 = this;\n\n            this.fetch('/message/inbox/read', this.ischeckboxData).then(function (result) {\n                _this3.$store.state.noticnum = 1;\n            });\n        },\n\n\n        //设置缓存\n        setStorage: function setStorage() {\n            var AnnounmMission = this.$route.params.typeid;\n            if (this.$route.params.typeid === undefined) {\n                AnnounmMission = sessionStorage.getItem('AnnounmMissionid');\n            }\n            setTimeout(function () {\n                sessionStorage.setItem('AnnounmMissionid', AnnounmMission);\n            }, 200);\n        },\n\n\n        //路由跳转\n        cancel: function cancel() {\n            if (sessionStorage.getItem('AnnounmMissionid') === '1') {\n                this.$routeTo('mc_announcement');\n            } else if (sessionStorage.getItem('AnnounmMissionid') === '2') {\n                this.$routeTo('mc_task_message');\n            } else if (sessionStorage.getItem('AnnounmMissionid') === '3') {\n                this.$routeTo('mc_information_remind');\n            } else {\n                this.$routeTo('mc_announcement');\n            }\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 1349:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(656)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".line .el-col-1[data-v-6c6620ab]{width:4.16667%;text-align:center}.margin-bot[data-v-6c6620ab]{margin-bottom:86px}@media screen and (max-width:1500px){.margin-bot[data-v-6c6620ab]{margin-bottom:73px}}.margin-botI[data-v-6c6620ab]{margin-bottom:400px}\", \"\", {\"version\":3,\"sources\":[\"F:/pc_project/erp-aluminium/yunerp/src/page/erp_pc/erp_mc/announcement_view.vue\"],\"names\":[],\"mappings\":\"AACA,iCACE,eAAgB,AAChB,iBAAmB,CACpB,AACD,6BACE,kBAAoB,CACrB,AACD,qCACA,6BACI,kBAAoB,CACvB,CACA,AACD,8BACE,mBAAqB,CACtB\",\"file\":\"announcement_view.vue\",\"sourcesContent\":[\"\\n.line .el-col-1[data-v-6c6620ab] {\\n  width: 4.16667%;\\n  text-align: center;\\n}\\n.margin-bot[data-v-6c6620ab] {\\n  margin-bottom: 86px;\\n}\\n@media screen and (max-width: 1500px) {\\n.margin-bot[data-v-6c6620ab] {\\n    margin-bottom: 73px;\\n}\\n}\\n.margin-botI[data-v-6c6620ab] {\\n  margin-bottom: 400px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1480:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1349);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(657)(\"2c2c12c8\", content, true, {});\n\n/***/ }),\n\n/***/ 1682:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"page-secondnav page-commonnav\"\n  }, [_c('div', {\n    staticClass: \"f-content console-mt3\"\n  }, [_c('div', {\n    staticClass: \"console-mt3\"\n  }, [_c('el-button', {\n    staticClass: \"ui-color3\",\n    on: {\n      \"click\": _vm.previous\n    }\n  }, [_vm._v(\"上一条\")]), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"ui-color3\",\n    on: {\n      \"click\": _vm.next\n    }\n  }, [_vm._v(\"下一条\")]), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"ui-color2\",\n    on: {\n      \"click\": _vm.cancel\n    }\n  }, [_vm._v(\"关闭\")])], 1), _vm._v(\" \"), _c('el-form', {\n    ref: \"announcementform\",\n    staticClass: \"console-pt6 inputWidthI\",\n    attrs: {\n      \"inline\": true,\n      \"model\": _vm.announcementform,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"标题\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"readonly\": true\n    },\n    model: {\n      value: (_vm.announcementform.title),\n      callback: function($$v) {\n        _vm.$set(_vm.announcementform, \"title\", $$v)\n      },\n      expression: \"announcementform.title\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"发布人\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"readonly\": true\n    },\n    model: {\n      value: (_vm.announcementform.publisher),\n      callback: function($$v) {\n        _vm.$set(_vm.announcementform, \"publisher\", $$v)\n      },\n      expression: \"announcementform.publisher\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"发布时间\"\n    }\n  }, [_c('el-date-picker', {\n    staticClass: \"conselect\",\n    attrs: {\n      \"disabled\": true,\n      \"align\": \"right\",\n      \"type\": \"date\",\n      \"format\": \"yyyy-MM-dd\",\n      \"placeholder\": \"发布时间\"\n    },\n    model: {\n      value: (_vm.announcementform.publishtime),\n      callback: function($$v) {\n        _vm.$set(_vm.announcementform, \"publishtime\", $$v)\n      },\n      expression: \"announcementform.publishtime\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-form', {\n    ref: \"announcementform\",\n    staticClass: \"inputWidthIII\",\n    attrs: {\n      \"model\": _vm.announcementform,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    staticClass: \"margin-botI\",\n    attrs: {\n      \"label\": \"内容\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入内容\",\n      \"resize\": \"none\",\n      \"rows\": 18,\n      \"type\": \"textarea\",\n      \"readonly\": true\n    },\n    model: {\n      value: (_vm.announcementform.content),\n      callback: function($$v) {\n        _vm.$set(_vm.announcementform, \"content\", $$v)\n      },\n      expression: \"announcementform.content\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"ui-color2\",\n    on: {\n      \"click\": _vm.getDownload\n    }\n  }, [_vm._v(\"下载附件：\" + _vm._s(_vm.download))])], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 718:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(1480)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(1140),\n  /* template */\n  __webpack_require__(1682),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-6c6620ab\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/108.716e46425327bc2f4bce.js","<template>\r\n    <div class=\"page-secondnav page-commonnav\">\r\n        <div class=\"f-content console-mt3\">\r\n        <div class=\"console-mt3\">\r\n            <el-button class=\"ui-color3\" @click=\"previous\">上一条</el-button>\r\n            <el-button class=\"ui-color3\" @click=\"next\">下一条</el-button>\r\n            <el-button class=\"ui-color2\" @click=\"cancel\">关闭</el-button>\r\n        </div>\r\n\r\n        <el-form ref=\"announcementform\" :inline=\"true\" :model=\"announcementform\" label-width=\"80px\" class=\"console-pt6 inputWidthI\">\r\n            <!-- <el-form-item label=\"消息类型\">\r\n                <el-input v-model=\"announcementform.type\" :disabled=\"true\"></el-input>\r\n            </el-form-item> -->\r\n            <el-form-item label=\"标题\">\r\n                <el-input v-model=\"announcementform.title\" :readonly=\"true\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"发布人\">\r\n                <el-input v-model=\"announcementform.publisher\" :readonly=\"true\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"发布时间\">\r\n                <el-date-picker\r\n                :disabled=\"true\"\r\n                v-model=\"announcementform.publishtime\"\r\n                align=\"right\"\r\n                type=\"date\"\r\n                format=\"yyyy-MM-dd\"\r\n                placeholder=\"发布时间\" class=\"conselect\">\r\n            </el-date-picker>\r\n            </el-form-item>\r\n        </el-form>\r\n        <el-form ref=\"announcementform\" :model=\"announcementform\" label-width=\"80px\" class=\"inputWidthIII\">\r\n            <el-form-item label=\"内容\" class=\"margin-botI\">\r\n                <el-input v-model=\"announcementform.content\"  placeholder=\"请输入内容\" resize=\"none\" :rows=\"18\" type=\"textarea\" :readonly=\"true\"></el-input>\r\n            </el-form-item>\r\n            <!-- <el-form-item label=\"附件\" class=\"margin-bot\">\r\n                <el-upload\r\n                    class=\"upload-demo\"\r\n                    action=\"//message/file/upload?fileDir\"\r\n                    :before-upload=\"handleBeforeUpload\"\r\n                    :on-preview=\"handlePreview\"\r\n                    :on-remove=\"handleRemove\"\r\n                    :file-list=\"fileList\">\r\n                    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n                    <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n                </el-upload>\r\n            </el-form-item> -->\r\n        </el-form>\r\n        <el-button class=\"ui-color2\" @click=\"getDownload\">下载附件：{{download}}</el-button>\r\n        <!-- <el-collapse v-model=\"activeNames\" v-for=\"(item,index) in items\" :key=\"item.processor\">\r\n            <el-collapse-item :title=\"item.processor+':回复'\" :name=\"index\">\r\n                <div>{{item.handlingsuggestion}}</div>\r\n            </el-collapse-item>\r\n        </el-collapse> -->\r\n    </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    export default {\r\n        data(){\r\n            return{\r\n                apiUrl:'/message/inbox/get/',\r\n                activeNames:['1'],\r\n                inboxData:[],\r\n                items:[],\r\n                ischeckboxData:[],\r\n                announcementform:{\r\n                    type:null,\r\n                    title:null,\r\n                    publisher:null,\r\n                    publishtime:null,\r\n                    content:null,\r\n                    attachment:null\r\n                },\r\n                config: {\r\n\t\t\t\t\t//可以在此处定义工具栏的内容\r\n\t\t\t\t\ttoolbars: [\r\n\t\t\t\t\t ['fullscreen', 'undo', 'redo','|','bold', 'italic', 'underline',\r\n\t\t\t\t\t '|','superscript','subscript','|', 'insertorderedlist', 'insertunorderedlist',\r\n\t\t\t\t\t '|','fontfamily','fontsize','justifyleft','justifyright','justifycenter','justifyjustify']\r\n\t\t\t\t\t],\r\n                \tzIndex : 100,\r\n\t\t\t\t\tautoHeightEnabled: false,\r\n\t\t\t\t\tautoFloatEnabled: true,\r\n\t\t\t\t\tinitialContent:'请输入内容',   //初始化编辑器的内容,也可以通过textarea/script给值，看官网例子\r\n\t\t\t\t\tautoClearinitialContent:true, //是否自动清除编辑器初始内容，注意：如果focus属性设置为true,这个也为真，那么编辑器一上来就会触发导致初始化的内容看不到了\r\n\t\t\t\t\tinitialFrameWidth: null,\r\n\t\t\t\t\tinitialFrameHeight: 300,\r\n\t\t\t\t\tBaseUrl: '',\r\n\t\t\t\t\tUEDITOR_HOME_URL: \"/static/UE/\"\r\n\t\t\t\t},\r\n                isbutton:true,\r\n                download:null\r\n            }\r\n        },\r\n        mounted() {\r\n            this.init();\r\n        },\r\n        watch: {\r\n            $route() {\r\n                this.init();\r\n            }\r\n        },\r\n        methods:{\r\n            init() {\r\n                this.getid();\r\n                this.setStorage();\r\n                this.getIsbutton();\r\n            },\r\n\r\n\r\n            //查看\r\n            getid(val){\r\n                const _this = this;\r\n                let inboxcd\r\n                if(val){\r\n                    inboxcd = val\r\n                }else {\r\n                    inboxcd = this.$route.params.id\r\n                }\r\n                if(inboxcd){\r\n                    this.getAjax(this.apiUrl+inboxcd)\r\n                    .then(result => {\r\n                        if(result.status === 200){\r\n                            if(result.data !== null){\r\n                                this.announcementform = result.data;\r\n                                this.download = result.data.attachment;\r\n                                this.announcementform.content = this.removeHTMLTag(result.data.content);\r\n                                this.ischeckboxData.push(inboxcd);\r\n                                this.markread();\r\n                                // if(result.data.taskhandleList){\r\n                                //     this.items = result.data.taskhandleList;\r\n                                // }\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n\r\n            //下载附件\r\n            getDownload(){\r\n                if(this.download){\r\n                    location.href = `http://${location.host}/message/file/download/?filename=${this.download}`\r\n                    //location.href = `http://192.168.11.84:8480/message/file/download/?filename=${this.download}`\r\n                    //this.getAjax('/message/file/download/?filename='+this.download)\r\n                }\r\n            },\r\n            //上一条\r\n            previous(){\r\n                if(this.$route.params.index != 0){\r\n                    let i = --this.$route.params.index;\r\n                    let inboxcd;\r\n                    let inboxcdData = this.$route.params.inboxcdData\r\n                    if(inboxcdData){\r\n                        for(i;i<inboxcdData.length; i--){\r\n                            inboxcd = inboxcdData[i].inboxcd\r\n                            break;\r\n                        }\r\n                        this.getid(inboxcd)\r\n                    }\r\n                }\r\n            },\r\n\r\n            //下一条\r\n            next(){\r\n                let i = ++this.$route.params.index;\r\n                let inboxcd;\r\n                let inboxcdData = this.$route.params.inboxcdData\r\n                if(inboxcdData){\r\n                    for(i;i<inboxcdData.length; i++){\r\n                        inboxcd = inboxcdData[i].inboxcd\r\n                        break;\r\n                    }\r\n                    this.getid(inboxcd)\r\n                }\r\n            },\r\n\r\n            //按钮true/false\r\n            getIsbutton(){\r\n                if(this.$route.params.inboxcdData === undefined){\r\n                    this.isbutton = false;\r\n                }\r\n            },\r\n            //标为已读\r\n            markread(){\r\n                this.fetch('/message/inbox/read',this.ischeckboxData)\r\n                .then(result => {\r\n                    this.$store.state.noticnum = 1;\r\n                })\r\n            },\r\n\r\n            //设置缓存\r\n            setStorage() {\r\n\t\t\t\tlet AnnounmMission = this.$route.params.typeid\r\n\t\t\t\tif(this.$route.params.typeid === undefined){\r\n\t\t\t\t\tAnnounmMission = sessionStorage.getItem('AnnounmMissionid')\r\n\t\t\t\t}\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tsessionStorage.setItem('AnnounmMissionid',AnnounmMission);\r\n\t\t\t\t},200)\r\n            },\r\n\r\n            //路由跳转\r\n            cancel(){\r\n                if(sessionStorage.getItem('AnnounmMissionid') === '1'){\r\n\t\t\t\t\tthis.$routeTo('mc_announcement')\r\n\t\t\t\t}else if(sessionStorage.getItem('AnnounmMissionid') === '2'){\r\n\t\t\t\t\tthis.$routeTo('mc_task_message')\r\n\t\t\t\t}else if(sessionStorage.getItem('AnnounmMissionid') === '3'){\r\n\t\t\t\t\tthis.$routeTo('mc_information_remind')\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthis.$routeTo('mc_announcement')\r\n\t\t\t\t}\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"less\" scoped type=\"text/less\">\r\n    .line {\r\n        .el-col-1 {\r\n            width: 4.16667%;\r\n            text-align: center;\r\n        }\r\n    }\r\n    .margin-bot {\r\n        margin-bottom: 86px;\r\n        @media screen and (max-width: 1500px) {\r\n            margin-bottom: 73px;\r\n        }\r\n    }\r\n    .margin-botI{\r\n\t\tmargin-bottom: 400px;\r\n\t}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// announcement_view.vue?41a3fa69","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".line .el-col-1[data-v-6c6620ab]{width:4.16667%;text-align:center}.margin-bot[data-v-6c6620ab]{margin-bottom:86px}@media screen and (max-width:1500px){.margin-bot[data-v-6c6620ab]{margin-bottom:73px}}.margin-botI[data-v-6c6620ab]{margin-bottom:400px}\", \"\", {\"version\":3,\"sources\":[\"F:/pc_project/erp-aluminium/yunerp/src/page/erp_pc/erp_mc/announcement_view.vue\"],\"names\":[],\"mappings\":\"AACA,iCACE,eAAgB,AAChB,iBAAmB,CACpB,AACD,6BACE,kBAAoB,CACrB,AACD,qCACA,6BACI,kBAAoB,CACvB,CACA,AACD,8BACE,mBAAqB,CACtB\",\"file\":\"announcement_view.vue\",\"sourcesContent\":[\"\\n.line .el-col-1[data-v-6c6620ab] {\\n  width: 4.16667%;\\n  text-align: center;\\n}\\n.margin-bot[data-v-6c6620ab] {\\n  margin-bottom: 86px;\\n}\\n@media screen and (max-width: 1500px) {\\n.margin-bot[data-v-6c6620ab] {\\n    margin-bottom: 73px;\\n}\\n}\\n.margin-botI[data-v-6c6620ab] {\\n  margin-bottom: 400px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6c6620ab\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/page/erp_pc/erp_mc/announcement_view.vue\n// module id = 1349\n// module chunks = 108","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6c6620ab\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/less-loader/dist/cjs.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./announcement_view.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"2c2c12c8\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6c6620ab\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader/dist/cjs.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/page/erp_pc/erp_mc/announcement_view.vue\n// module id = 1480\n// module chunks = 108","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"page-secondnav page-commonnav\"\n  }, [_c('div', {\n    staticClass: \"f-content console-mt3\"\n  }, [_c('div', {\n    staticClass: \"console-mt3\"\n  }, [_c('el-button', {\n    staticClass: \"ui-color3\",\n    on: {\n      \"click\": _vm.previous\n    }\n  }, [_vm._v(\"上一条\")]), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"ui-color3\",\n    on: {\n      \"click\": _vm.next\n    }\n  }, [_vm._v(\"下一条\")]), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"ui-color2\",\n    on: {\n      \"click\": _vm.cancel\n    }\n  }, [_vm._v(\"关闭\")])], 1), _vm._v(\" \"), _c('el-form', {\n    ref: \"announcementform\",\n    staticClass: \"console-pt6 inputWidthI\",\n    attrs: {\n      \"inline\": true,\n      \"model\": _vm.announcementform,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"标题\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"readonly\": true\n    },\n    model: {\n      value: (_vm.announcementform.title),\n      callback: function($$v) {\n        _vm.$set(_vm.announcementform, \"title\", $$v)\n      },\n      expression: \"announcementform.title\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"发布人\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"readonly\": true\n    },\n    model: {\n      value: (_vm.announcementform.publisher),\n      callback: function($$v) {\n        _vm.$set(_vm.announcementform, \"publisher\", $$v)\n      },\n      expression: \"announcementform.publisher\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"发布时间\"\n    }\n  }, [_c('el-date-picker', {\n    staticClass: \"conselect\",\n    attrs: {\n      \"disabled\": true,\n      \"align\": \"right\",\n      \"type\": \"date\",\n      \"format\": \"yyyy-MM-dd\",\n      \"placeholder\": \"发布时间\"\n    },\n    model: {\n      value: (_vm.announcementform.publishtime),\n      callback: function($$v) {\n        _vm.$set(_vm.announcementform, \"publishtime\", $$v)\n      },\n      expression: \"announcementform.publishtime\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-form', {\n    ref: \"announcementform\",\n    staticClass: \"inputWidthIII\",\n    attrs: {\n      \"model\": _vm.announcementform,\n      \"label-width\": \"80px\"\n    }\n  }, [_c('el-form-item', {\n    staticClass: \"margin-botI\",\n    attrs: {\n      \"label\": \"内容\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"placeholder\": \"请输入内容\",\n      \"resize\": \"none\",\n      \"rows\": 18,\n      \"type\": \"textarea\",\n      \"readonly\": true\n    },\n    model: {\n      value: (_vm.announcementform.content),\n      callback: function($$v) {\n        _vm.$set(_vm.announcementform, \"content\", $$v)\n      },\n      expression: \"announcementform.content\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('el-button', {\n    staticClass: \"ui-color2\",\n    on: {\n      \"click\": _vm.getDownload\n    }\n  }, [_vm._v(\"下载附件：\" + _vm._s(_vm.download))])], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6c6620ab\",\"hasScoped\":true}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/page/erp_pc/erp_mc/announcement_view.vue\n// module id = 1682\n// module chunks = 108","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6c6620ab\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./announcement_view.vue\")\n}\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./announcement_view.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6c6620ab\\\",\\\"hasScoped\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./announcement_view.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-6c6620ab\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/erp_pc/erp_mc/announcement_view.vue\n// module id = 718\n// module chunks = 108"],"sourceRoot":""}